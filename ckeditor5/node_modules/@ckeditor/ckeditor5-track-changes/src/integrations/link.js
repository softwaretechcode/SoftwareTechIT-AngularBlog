/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x559d=['from','commandParams','getFirstPosition','*Remove\x20link*','_descriptionFactory','selection','document','format','change','model','hasAttribute','isCollapsed','registerDescriptionCallback','getFirstRange','plugins','enableCommand','get','link','commandName','markInlineFormat','getRanges','getAttribute','has','editor','*Set\x20link:*\x20%0','unlink','linkHref','LinkEditing'];(function(_0x3f6949,_0x559dc4){const _0x5ded4a=function(_0x325bdc){while(--_0x325bdc){_0x3f6949['push'](_0x3f6949['shift']());}};_0x5ded4a(++_0x559dc4);}(_0x559d,0x16e));const _0x5ded=function(_0x3f6949,_0x559dc4){_0x3f6949=_0x3f6949-0x0;let _0x5ded4a=_0x559d[_0x3f6949];return _0x5ded4a;};import{Plugin as _0x2db016}from'ckeditor5/src/core';import{findAttributeRange as _0x2dfb7}from'ckeditor5/src/typing';import{getRangesWithAttribute as _0x1714dc}from'./utils';import{getTranslation as _0x38ba4b}from'../utils/common-translations';export default class et extends _0x2db016{['afterInit'](){const _0x17d2be=this[_0x5ded('0x15')];if(!_0x17d2be[_0x5ded('0xc')][_0x5ded('0x14')](_0x5ded('0x19')))return;const _0x1d4487=_0x17d2be[_0x5ded('0xc')][_0x5ded('0xe')]('TrackChangesEditing');_0x1d4487[_0x5ded('0xd')]('link',(_0x2a9ff0,_0x13cf21)=>{const _0x5d9418=_0x17d2be['model'][_0x5ded('0x4')][_0x5ded('0x3')];let _0x24d1f3=[];if(_0x5d9418[_0x5ded('0x9')]){if(!_0x5d9418[_0x5ded('0x8')](_0x5ded('0x18')))return void _0x2a9ff0(_0x13cf21);{const _0x52caf4=_0x2dfb7(_0x5d9418[_0x5ded('0x0')](),_0x5ded('0x18'),_0x5d9418[_0x5ded('0x13')](_0x5ded('0x18')),_0x17d2be[_0x5ded('0x7')]);_0x24d1f3=[_0x52caf4];}}else _0x24d1f3=Array[_0x5ded('0x1a')](_0x5d9418[_0x5ded('0x12')]());_0x17d2be[_0x5ded('0x7')][_0x5ded('0x6')](()=>{for(const _0x53a030 of _0x24d1f3)_0x1d4487[_0x5ded('0x11')](_0x53a030,{'commandName':_0x5ded('0xf'),'commandParams':[_0x13cf21]});});}),_0x1d4487[_0x5ded('0xd')](_0x5ded('0x17'),()=>{const _0x419067=this[_0x5ded('0x15')][_0x5ded('0x7')],_0x361cae=_0x419067[_0x5ded('0x4')]['selection'];_0x419067[_0x5ded('0x6')](()=>{let _0x1e22a3=[];if(_0x361cae['isCollapsed'])_0x1e22a3=[_0x2dfb7(_0x361cae[_0x5ded('0x0')](),'linkHref',_0x361cae['getAttribute'](_0x5ded('0x18')),_0x17d2be['model'])];else _0x1e22a3=_0x1714dc(_0x5ded('0x18'),_0x361cae[_0x5ded('0xb')](),_0x17d2be[_0x5ded('0x7')]);for(const _0x5608b5 of _0x1e22a3)_0x1d4487[_0x5ded('0x11')](_0x5608b5,{'commandName':_0x5ded('0x17'),'commandParams':[]});});}),_0x1d4487[_0x5ded('0x2')][_0x5ded('0xa')](_0x464f3f=>{const {data:_0x56b2ee}=_0x464f3f,_0x26bdcd=_0x17d2be['locale'];if(_0x56b2ee){if(_0x5ded('0xf')==_0x56b2ee[_0x5ded('0x10')]){const _0x2e6825=_0x56b2ee[_0x5ded('0x1b')][0x0];return{'type':_0x5ded('0x5'),'content':_0x38ba4b(_0x26bdcd,_0x5ded('0x16'),'\x22'+_0x2e6825+'\x22')};}return _0x5ded('0x17')==_0x56b2ee[_0x5ded('0x10')]?{'type':_0x5ded('0x5'),'content':_0x38ba4b(_0x26bdcd,_0x5ded('0x1'))}:void 0x0;}});}}