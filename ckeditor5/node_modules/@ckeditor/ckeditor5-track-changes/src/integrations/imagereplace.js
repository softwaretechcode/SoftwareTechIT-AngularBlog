/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x5eb6=['format','plugins','getSuggestionCallback','_descriptionFactory','TrackChangesEditing','author','discard','formatBlock','handleReplaceImageCommand','*Format:*\x20replace\x20image\x20URL','source','editor','getSelectedElement','get','commandName','subType','accept','src','registerCustomCallback','getSuggestions','getContainedElement','commandParams','data','replaceImageSource','has','change','afterInit','locale','enableCommand','_suggestionFactory','handleSuggestionDescription','model'];(function(_0xe3b3f1,_0x5eb63d){const _0x4269ff=function(_0x439620){while(--_0x439620){_0xe3b3f1['push'](_0xe3b3f1['shift']());}};_0x4269ff(++_0x5eb63d);}(_0x5eb6,0x9f));const _0x4269=function(_0xe3b3f1,_0x5eb63d){_0xe3b3f1=_0xe3b3f1-0x0;let _0x4269ff=_0x5eb6[_0xe3b3f1];return _0x4269ff;};import{Plugin as _0x16477d}from'ckeditor5/src/core';import{getTranslation as _0x1d7968}from'../utils/common-translations';export default class Y extends _0x16477d{[_0x4269('0x1b')](){if(!this[_0x4269('0xc')][_0x4269('0x2')][_0x4269('0x19')]('ImageEditing'))return;const _0x43867e=this[_0x4269('0xc')]['plugins'][_0x4269('0xe')]('TrackChangesEditing');_0x43867e[_0x4269('0x1d')](_0x4269('0x18'),(_0x538ead,_0x4c05b2)=>this[_0x4269('0x9')](_0x538ead,_0x4c05b2)),_0x43867e[_0x4269('0x1e')][_0x4269('0x13')](_0x4269('0x8'),'replaceImageSource',_0x4269('0x11'),_0x43867e['_suggestionFactory'][_0x4269('0x3')](_0x4269('0x8'),null,'discard')),_0x43867e[_0x4269('0x1e')][_0x4269('0x13')](_0x4269('0x8'),_0x4269('0x18'),_0x4269('0x7'),_0x43867e['_suggestionFactory'][_0x4269('0x3')](_0x4269('0x8'),null,_0x4269('0x11'))),_0x43867e[_0x4269('0x4')]['registerDescriptionCallback'](_0x447b10=>this[_0x4269('0x1f')](_0x447b10));}[_0x4269('0x9')](_0x306176,_0x16f712){const _0x310bf5=this[_0x4269('0xc')][_0x4269('0x2')][_0x4269('0xe')](_0x4269('0x5')),_0x46ea08=this['editor'][_0x4269('0x0')]['document']['selection'][_0x4269('0xd')]();this[_0x4269('0xc')][_0x4269('0x0')][_0x4269('0x1a')](()=>{let _0x3bdeb8=_0x46ea08['getAttribute'](_0x4269('0x12'));const _0x57fee0=this[_0x4269('0xc')][_0x4269('0x2')][_0x4269('0xe')]('Users')['me'];for(const _0x526cb5 of _0x310bf5[_0x4269('0x14')]({'skipNotAttached':!0x0})){const _0x1b91f1=_0x526cb5[_0x4269('0x15')]();if('replaceImageSource'===_0x526cb5[_0x4269('0x10')]&&_0x1b91f1===_0x46ea08){_0x526cb5[_0x4269('0x6')]!==_0x57fee0&&_0x526cb5[_0x4269('0x7')](),_0x3bdeb8=_0x526cb5[_0x4269('0x17')][_0x4269('0x16')][0x0][_0x4269('0xb')];break;}}_0x306176(_0x16f712),_0x310bf5['markBlockFormat'](_0x46ea08,{'commandName':'replaceImageSource','commandParams':[{'source':_0x3bdeb8}]},[],_0x4269('0x18'));});}[_0x4269('0x1f')](_0x354dc9){const {data:_0x9b5a5}=_0x354dc9;if(_0x9b5a5&&_0x4269('0x18')===_0x9b5a5[_0x4269('0xf')]){const _0x237b52=_0x4269('0xa');return{'type':_0x4269('0x1'),'content':_0x1d7968(this[_0x4269('0xc')][_0x4269('0x1c')],_0x237b52)};}}}