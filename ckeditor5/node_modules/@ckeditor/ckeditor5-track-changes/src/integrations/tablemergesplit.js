/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x2e7a=['markMultiRangeBlockFormat','_tablePostFixingSubtypes','splitTableCellVertically','_isForcedDefaultExecutionBlock','isEnabled','afterInit','mergeTableCells','author','set:isEnabled','*Split\x20cell:*\x20vertically','has','add','size','formatBlock','mergeTableCellRight','tableCell','registerCustomCallback','document','format','table','type','commands','mergeTableCellLeft','selection','plugins','filter','direction','createRangeOn','element','cell','getRanges','rootName','TrackChangesEditing','enableCommand','_descriptionFactory','accept','from','createTableWalker','commandName','editor','requires','deletion','$graveyard','_areSelectedCellsMergable','setSelection','getAncestors','markBlockFormat','stop','execute','mergeTableCellUp','registerDescriptionCallback','findAncestor','value','_suggestionFactory','trackChanges','fromRange','*Merge\x20cells*','_areMergableCells','push','root','map','containsRange','getSelectionAffectedTableCells','TableUtils','change','refresh','TableEditing','find','return','mergeTableCellDown','splitTableCellHorizontally','insertion','length','get','highest','horizontally','getFirstPosition','model','subType','getCellLocation'];(function(_0xc33fe2,_0x2e7a25){const _0x5e350f=function(_0x436851){while(--_0x436851){_0xc33fe2['push'](_0xc33fe2['shift']());}};_0x5e350f(++_0x2e7a25);}(_0x2e7a,0x97));const _0x5e35=function(_0xc33fe2,_0x2e7a25){_0xc33fe2=_0xc33fe2-0x0;let _0x5e350f=_0x2e7a[_0xc33fe2];return _0x5e350f;};import{Plugin as _0x2a9382}from'ckeditor5/src/core';import _0x4b40a3 from'./table';import{LiveRange as _0x5d9d42}from'ckeditor5/src/engine';import{getTranslation as _0x4c45ff}from'../utils/common-translations';export default class dt extends _0x2a9382{static get[_0x5e35('0x31')](){return[_0x4b40a3];}[_0x5e35('0xe')](){const _0x585364=this[_0x5e35('0x30')],_0x43aedc=_0x585364[_0x5e35('0x6')]['document'][_0x5e35('0x20')],_0x16421f=_0x585364['locale'];if(!_0x585364['plugins'][_0x5e35('0x13')](_0x5e35('0x4b')))return;const _0x324880=_0x585364[_0x5e35('0x21')][_0x5e35('0x2')](_0x5e35('0x29')),_0x36786a=_0x585364[_0x5e35('0x21')]['get'](_0x5e35('0x48')),_0x3bdca2=_0x585364['plugins']['get'](_0x4b40a3);_0x3bdca2[_0x5e35('0xa')][_0x5e35('0x43')](_0x5e35('0xf')),_0x324880[_0x5e35('0x2a')]('mergeTableCells',()=>{const _0x2399cd=_0x36786a[_0x5e35('0x47')](_0x585364[_0x5e35('0x6')][_0x5e35('0x1a')]['selection']);_0x585364[_0x5e35('0x6')][_0x5e35('0x49')](()=>{_0x324880[_0x5e35('0x9')](_0x2399cd,{'commandName':_0x5e35('0xf'),'commandParams':[]},[],_0x5e35('0xf'));});}),_0x585364['commands'][_0x5e35('0x2')](_0x5e35('0xf'))['on']('execute',(_0x3f8a05,_0x4d69e3)=>{_0x585364[_0x5e35('0x1e')][_0x5e35('0x2')](_0x5e35('0x3f'))['value']&&(_0x4d69e3[_0x5e35('0x1')]>0x0&&_0x4d69e3[_0x4d69e3[_0x5e35('0x1')]-0x1]&&_0x4d69e3[_0x4d69e3[_0x5e35('0x1')]-0x1]['forceDefaultExecution']||_0x324880[_0x5e35('0xc')]||this[_0x5e35('0x34')]()||_0x3f8a05[_0x5e35('0x38')]());},{'priority':_0x5e35('0x3')});for(const _0x114372 of[_0x5e35('0x3a'),_0x5e35('0x17'),_0x5e35('0x4e'),_0x5e35('0x1f')]){const _0x397a89=_0x585364[_0x5e35('0x1e')][_0x5e35('0x2')](_0x114372);_0x324880[_0x5e35('0x2a')](_0x114372,()=>{const _0x5b6d42=_0x585364[_0x5e35('0x6')]['document'][_0x5e35('0x20')]['getFirstPosition']()[_0x5e35('0x36')]()[_0x5e35('0x4c')](_0xac2f65=>_0xac2f65['is'](_0x5e35('0x25'),_0x5e35('0x18'))),_0x1141aa=_0x397a89['value'];_0x585364[_0x5e35('0x6')][_0x5e35('0x49')](()=>{_0x324880[_0x5e35('0x9')]([_0x5b6d42,_0x1141aa],{'commandName':'mergeTableCells','commandParams':[]},[],'mergeTableCells');});});}for(const _0x58d334 of[_0x5e35('0xb'),_0x5e35('0x4f')]){const _0x2472cf=_0x585364[_0x5e35('0x1e')][_0x5e35('0x2')](_0x58d334);_0x324880['enableCommand'](_0x58d334,()=>{const _0x588411=_0x36786a[_0x5e35('0x47')](_0x585364[_0x5e35('0x6')][_0x5e35('0x1a')][_0x5e35('0x20')])[0x0],_0x57c10c=_0x588411[_0x5e35('0x3c')](_0x5e35('0x1c')),{column:_0x34ae32,row:_0x2d9533}=_0x36786a[_0x5e35('0x8')](_0x588411);let _0x6f43cb=[];if(_0x5e35('0x4')==_0x2472cf[_0x5e35('0x23')]){const _0x462241=_0x36786a[_0x5e35('0x2e')](_0x57c10c,{'startRow':_0x2d9533,'endRow':_0x2d9533,'includeAllSlots':!0x0});_0x6f43cb=Array[_0x5e35('0x2d')](_0x462241)[_0x5e35('0x45')](_0x4ffaa5=>_0x4ffaa5[_0x5e35('0x26')]);}else{const _0x3ce5c2=_0x36786a[_0x5e35('0x2e')](_0x57c10c,{'column':_0x34ae32,'includeAllSlots':!0x0});_0x6f43cb=Array['from'](_0x3ce5c2)[_0x5e35('0x45')](_0x5c8ac3=>_0x5c8ac3['cell']);}_0x585364['model']['change'](_0x277fe0=>{_0x324880[_0x5e35('0x37')](_0x277fe0[_0x5e35('0x24')](_0x588411),{'commandName':_0x58d334,'commandParams':[]},_0x6f43cb,_0x58d334);});});}_0x324880['_descriptionFactory'][_0x5e35('0x3b')](_0x59be23=>{const {data:_0x3d9dc8}=_0x59be23;if(_0x3d9dc8)return _0x5e35('0xf')==_0x3d9dc8[_0x5e35('0x2f')]?{'type':_0x5e35('0x1b'),'content':_0x4c45ff(_0x16421f,_0x5e35('0x41'))}:void 0x0;}),_0x324880[_0x5e35('0x2b')][_0x5e35('0x3b')](_0x1f8e8a=>{const {data:_0x253501}=_0x1f8e8a;if(_0x253501)return _0x5e35('0xb')==_0x253501[_0x5e35('0x2f')]?{'type':_0x5e35('0x1b'),'content':_0x4c45ff(_0x16421f,_0x5e35('0x12'))}:_0x5e35('0x4f')==_0x253501[_0x5e35('0x2f')]?{'type':_0x5e35('0x1b'),'content':_0x4c45ff(_0x16421f,'*Split\x20cell:*\x20horizontally')}:void 0x0;});const _0x322584=_0x3bdca2['_acceptFormatSuggestionCallbackFactory']();for(const _0x15855a of['mergeTableCellUp',_0x5e35('0x17'),_0x5e35('0x4e'),_0x5e35('0x1f')])_0x324880[_0x5e35('0x3e')][_0x5e35('0x19')](_0x5e35('0x16'),_0x15855a,_0x5e35('0x2c'),_0x322584);for(const _0xef8135 of[_0x5e35('0xb'),_0x5e35('0x4f')])_0x324880[_0x5e35('0x3e')][_0x5e35('0x19')](_0x5e35('0x16'),_0xef8135,_0x5e35('0x2c'),_0x322584);_0x324880[_0x5e35('0x3e')]['registerCustomCallback'](_0x5e35('0x16'),_0x5e35('0xf'),_0x5e35('0x2c'),_0x22b4fb=>{_0x585364['model'][_0x5e35('0x49')](_0x545ea7=>{const _0x2206d4=Array['from'](_0x43aedc[_0x5e35('0x27')]())[_0x5e35('0x45')](_0x383569=>_0x5d9d42[_0x5e35('0x40')](_0x383569));_0x545ea7[_0x5e35('0x35')](_0x22b4fb),_0x585364[_0x5e35('0x1e')][_0x5e35('0x2')](_0x5e35('0xf'))[_0x5e35('0x4a')](),_0x585364[_0x5e35('0x39')](_0x5e35('0xf'),{'forceDefaultExecution':!0x0});const _0x3ccd1f=_0x2206d4[_0x5e35('0x22')](_0x5917c1=>_0x5e35('0x33')!=_0x5917c1[_0x5e35('0x44')][_0x5e35('0x28')]);_0x3ccd1f[_0x5e35('0x1')]>0x0&&_0x545ea7[_0x5e35('0x35')](_0x3ccd1f);for(const _0x3ed67d of _0x2206d4)_0x3ed67d['detach']();});});for(const _0x2b79a0 of['mergeTableCellUp',_0x5e35('0x4e'),_0x5e35('0x1f'),_0x5e35('0x17')]){const _0x1a78c7=_0x585364[_0x5e35('0x1e')][_0x5e35('0x2')](_0x2b79a0);_0x1a78c7['on'](_0x5e35('0x11'),(_0x24638a,_0x5cf10d,_0x2e0b21)=>{if(_0x2e0b21){const _0x5a927e=_0x585364[_0x5e35('0x6')][_0x5e35('0x1a')][_0x5e35('0x20')][_0x5e35('0x5')]()[_0x5e35('0x36')]()[_0x5e35('0x4c')](_0x5cba8b=>_0x5cba8b['is'](_0x5e35('0x25'),'tableCell'));this[_0x5e35('0x42')](_0x1a78c7[_0x5e35('0x3d')],_0x5a927e)||(_0x24638a[_0x5e35('0x4d')]=!0x1,_0x24638a[_0x5e35('0x38')]());}},{'priority':'low'});}}[_0x5e35('0x34')](){const _0x588d9b=this[_0x5e35('0x30')]['commands'][_0x5e35('0x2')](_0x5e35('0xf')),_0x29f140=this[_0x5e35('0x30')][_0x5e35('0x21')][_0x5e35('0x2')]('TableUtils');if(!_0x588d9b[_0x5e35('0xd')])return!0x1;const _0x5627b7=_0x29f140[_0x5e35('0x47')](this[_0x5e35('0x30')][_0x5e35('0x6')][_0x5e35('0x1a')]['selection']);for(const _0x556aba of _0x5627b7)for(const _0x592662 of _0x5627b7)if(_0x556aba!=_0x592662&&!this[_0x5e35('0x42')](_0x556aba,_0x592662))return!0x1;return!0x0;}[_0x5e35('0x42')](_0x362a04,_0xc6f3bf){const _0x557543=this[_0x5e35('0x30')]['plugins'][_0x5e35('0x2')](_0x5e35('0x29')),_0x33504a=this[_0x5e35('0x30')]['model']['createRangeOn'](_0x362a04),_0x582605=this[_0x5e35('0x30')]['model'][_0x5e35('0x24')](_0xc6f3bf),_0x2b7868=new Set(),_0x4c8168=new Set();for(const _0x8bc6b5 of _0x557543['getSuggestions']())if((_0x5e35('0x0')==_0x8bc6b5['type']||_0x5e35('0x32')==_0x8bc6b5[_0x5e35('0x1d')]||'mergeTableCells'==_0x8bc6b5[_0x5e35('0x7')])&&_0x8bc6b5['isInContent'])for(const _0x49ee9c of _0x8bc6b5[_0x5e35('0x27')]())_0x49ee9c[_0x5e35('0x46')](_0x33504a,!0x0)&&_0x2b7868[_0x5e35('0x14')](_0x8bc6b5[_0x5e35('0x1d')]+':'+_0x8bc6b5[_0x5e35('0x10')]['id']),_0x49ee9c[_0x5e35('0x46')](_0x582605,!0x0)&&_0x4c8168[_0x5e35('0x14')](_0x8bc6b5['type']+':'+_0x8bc6b5['author']['id']);if(_0x2b7868[_0x5e35('0x15')]!=_0x4c8168['size'])return!0x1;for(const _0x1e5a2a of _0x2b7868)if(!_0x4c8168[_0x5e35('0x13')](_0x1e5a2a))return!0x1;return!0x0;}}