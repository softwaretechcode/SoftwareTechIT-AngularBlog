/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x50ac=['push','toLowerCase','value','has','formatInline','registerDescriptionCallback','createRange','format','hasAttribute','afterInit','enableCommand','commandParams','*Set\x20highlight:*\x20%0','change','getAttribute','editor','backward','config','commandName','document','getFirstPosition','FORMAT_HIGHLIGHT','isCollapsed','highlight','_descriptionFactory','plugins','model','find','get','color','getRanges','title','highlight.options','item','markInlineFormat','HighlightEditing'];(function(_0x1c2022,_0x50ac62){const _0x59c06a=function(_0x16045e){while(--_0x16045e){_0x1c2022['push'](_0x1c2022['shift']());}};_0x59c06a(++_0x50ac62);}(_0x50ac,0xda));const _0x59c0=function(_0x1c2022,_0x50ac62){_0x1c2022=_0x1c2022-0x0;let _0x59c06a=_0x50ac[_0x1c2022];return _0x59c06a;};import{Plugin as _0x565edb}from'ckeditor5/src/core';import{getTranslation as _0x4c4fd8}from'../utils/common-translations';import{getRangesWithAttribute as _0x5ebfc8}from'./utils';export default class K extends _0x565edb{[_0x59c0('0x7')](){const _0x430bea=this[_0x59c0('0xd')];if(!_0x430bea[_0x59c0('0x17')][_0x59c0('0x1')](_0x59c0('0x21')))return;const _0x4c971b=_0x430bea[_0x59c0('0x17')]['get']('TrackChangesEditing');_0x4c971b[_0x59c0('0x8')](_0x59c0('0x15'),(_0x2b65c7,_0x283098={})=>{const _0x16aca4=_0x430bea[_0x59c0('0x18')][_0x59c0('0x11')]['selection'],_0x4fa42f=_0x16aca4[_0x59c0('0xc')]('highlight');let _0x5f0c09=_0x283098[_0x59c0('0x0')],_0x250e10=[];if(_0x16aca4[_0x59c0('0x14')]){const _0x467c1f=_0x16aca4[_0x59c0('0x12')]();if(!_0x16aca4[_0x59c0('0x6')](_0x59c0('0x15')))return void _0x2b65c7(_0x283098);{const _0x1a9ed8=_0x20b90e=>_0x20b90e[_0x59c0('0x1f')][_0x59c0('0xc')](_0x59c0('0x15'))===_0x4fa42f,_0x1d54c6=_0x467c1f['getLastMatchingPosition'](_0x1a9ed8,{'direction':_0x59c0('0xe')}),_0x582625=_0x467c1f['getLastMatchingPosition'](_0x1a9ed8);_0x250e10=[_0x430bea[_0x59c0('0x18')][_0x59c0('0x4')](_0x1d54c6,_0x582625)],_0x5f0c09==_0x4fa42f&&(_0x5f0c09=null);}}else for(const _0x3fa6a7 of _0x16aca4[_0x59c0('0x1c')]())_0x5f0c09?_0x250e10['push'](_0x3fa6a7):_0x250e10[_0x59c0('0x22')](..._0x5ebfc8(_0x59c0('0x15'),_0x3fa6a7,_0x430bea[_0x59c0('0x18')]));_0x430bea[_0x59c0('0x18')][_0x59c0('0xb')](()=>{for(const _0x1e154a of _0x250e10)_0x4c971b[_0x59c0('0x20')](_0x1e154a,{'commandName':_0x59c0('0x15'),'commandParams':[{'value':_0x5f0c09}]});});});const _0x40fd21=_0x430bea['locale'];_0x4c971b[_0x59c0('0x16')][_0x59c0('0x3')](_0x2a0c5f=>{const {type:_0x2598fa,data:_0x1e9053}=_0x2a0c5f;if(_0x59c0('0x2')==_0x2598fa&&_0x1e9053&&_0x59c0('0x15')==_0x1e9053[_0x59c0('0x10')]){const _0x440e3e=_0x40fd21['t'],_0x2da8a2=_0x1e9053[_0x59c0('0x9')][0x0]['value'];if(_0x2da8a2){const _0x564c23=_0x430bea[_0x59c0('0xf')][_0x59c0('0x1a')](_0x59c0('0x1e'))[_0x59c0('0x19')](_0x495878=>_0x495878[_0x59c0('0x18')]==_0x2da8a2),_0x428c89=_0x440e3e(_0x564c23[_0x59c0('0x1d')])[_0x59c0('0x23')]();return{'type':_0x59c0('0x5'),'content':_0x4c4fd8(_0x40fd21,_0x59c0('0xa'),_0x428c89),'color':{'value':_0x564c23[_0x59c0('0x1b')],'title':_0x564c23[_0x59c0('0x1d')]}};}return{'type':_0x59c0('0x5'),'content':_0x4c4fd8(_0x40fd21,'*Remove\x20highlight*',_0x4c4fd8(_0x40fd21,_0x59c0('0x13')))};}});}}