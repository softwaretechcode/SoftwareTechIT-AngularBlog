/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x2a6f=['getDescriptions','_itemLabels','start','match','Container','*Split:*\x20%0','registerDescriptionCallback','isObject','label','$1\x20$2','add','registerElementLabel','getWalker','isEmpty','isInContent','removeContainer','checkChild','end','data','removeEmptyContainer','*Remove:*\x20%0','*Insert:*\x20%0','addContainer','isEqual','function','removeObject','replace','EmptyContainer','skip','elementEnd','quantity','_resolveDescriptionItems','_customCallbacks','remove','indexOf','element','$text','deletion','getItemLabel','ELEMENT_SPACE','nextSibling','item','type','getFirstRange','name','addEmptyContainer','*Merge:*\x20%0','_itemLabelsCallbacks','_schema','pop','Object','normal','text','insertion','addObject','length','push','softBreak','elementStart'];(function(_0x251928,_0x2a6f21){const _0x485ff4=function(_0x24000a){while(--_0x24000a){_0x251928['push'](_0x251928['shift']());}};_0x485ff4(++_0x2a6f21);}(_0x2a6f,0xff));const _0x485f=function(_0x251928,_0x2a6f21){_0x251928=_0x251928-0x0;let _0x485ff4=_0x2a6f[_0x251928];return _0x485ff4;};import{getTranslation as _0x3b975c}from'./utils/common-translations';import{priorities as _0x5195fb,insertToPriorityArray as _0x28a632}from'ckeditor5/src/utils';export default class m{constructor(_0x5d7199,_0x247a9b){this['_customCallbacks']=[],this[_0x485f('0x29')]=new Map(),this[_0x485f('0x1c')]=[],this['_schema']=_0x5d7199,this['_locale']=_0x247a9b;}[_0x485f('0x28')](_0x2ac4bb){const _0x1f24f0=[];for(let _0x2d6688=0x0;_0x2d6688<_0x2ac4bb[_0x485f('0x24')];_0x2d6688++){const _0x379c2e=_0x2ac4bb[_0x2d6688];if(!_0x379c2e[_0x485f('0x36')])continue;let _0x17af96=!0x1;for(const _0x81e8bf of this['_customCallbacks']){const _0x30dcd8=_0x81e8bf(_0x379c2e);if(_0x30dcd8){_0x485f('0x17')in _0x30dcd8&&_0x1f24f0[_0x485f('0x25')](_0x30dcd8),_0x17af96=!0x0;break;}}if(!_0x17af96){this['_addDescriptionItems'](_0x1f24f0,_0x379c2e);const _0x47b28f=_0x2ac4bb[_0x2d6688+0x1];if(_0x47b28f&&!_0x379c2e[_0x485f('0x18')]()[_0x485f('0x39')][_0x485f('0x4')](_0x47b28f['getFirstRange']()[_0x485f('0x2a')])){const _0x1a8006=_0x1f24f0[_0x1f24f0[_0x485f('0x24')]-0x1],_0x3208b1='insertion'==_0x379c2e[_0x485f('0x17')]?_0x485f('0x32'):_0x485f('0xe');_0x1a8006&&'text'==_0x1a8006[_0x485f('0x17')]&&(_0x1a8006[_0x3208b1]+='\x0a');}}}return this[_0x485f('0xc')](_0x1f24f0);}[_0x485f('0x2e')](_0x2fb47b){this[_0x485f('0xd')]['push'](_0x2fb47b);}[_0x485f('0x33')](_0x4a02ec,_0x1b946b,_0x24e22b=_0x5195fb[_0x485f('0x20')]){_0x485f('0x5')==typeof _0x4a02ec?_0x28a632(this[_0x485f('0x1c')],{'matchingCallback':_0x4a02ec,'label':_0x1b946b,'priority':_0x24e22b}):this[_0x485f('0x29')]['set'](_0x4a02ec,_0x1b946b);}[_0x485f('0x13')](_0x5b836e,_0x302c98=0x1){let _0x164daf;for(const _0x3ae36c of this[_0x485f('0x1c')])if(_0x3ae36c['matchingCallback'](_0x5b836e)){_0x164daf=_0x3ae36c[_0x485f('0x30')];break;}return _0x164daf||(_0x164daf=this['_itemLabels']['get'](_0x5b836e[_0x485f('0x19')])),_0x164daf?_0x164daf(_0x302c98):0x1!==_0x302c98?_0x302c98+'\x20'+_0x5b836e['name']+'s':''+_0x5b836e[_0x485f('0x19')];}['_addDescriptionItems'](_0x1f6cbd,_0x430b9f){const _0x1d33c1=_0x430b9f['getFirstRange']()[_0x485f('0x34')](),_0x53ebe5=_0x485f('0x22')==_0x430b9f[_0x485f('0x17')]?_0x485f('0x32'):_0x485f('0xe');for(const _0x27c5ae of _0x1d33c1){const _0xd92007=_0x27c5ae[_0x485f('0x16')],_0x1ce816=_0x1f6cbd[_0x1f6cbd['length']-0x1];if(_0xd92007['is']('$textProxy'))_0x1ce816&&_0x1ce816[_0x485f('0x17')][_0x485f('0xf')](_0x485f('0x2c'))>-0x1&&_0x1f6cbd['pop'](),_0x1ce816&&'text'==_0x1ce816[_0x485f('0x17')]?_0x1ce816[_0x53ebe5]+=_0xd92007[_0x485f('0x3a')]:_0x1f6cbd[_0x485f('0x25')]({'type':_0x485f('0x21'),'add':_0x485f('0x32')==_0x53ebe5?_0xd92007['data']:'','remove':'remove'==_0x53ebe5?_0xd92007[_0x485f('0x3a')]:''});else{if(this[_0x485f('0x1d')][_0x485f('0x2f')](_0xd92007)){const _0x4a2506=_0xd92007;if(_0x1ce816&&_0x1ce816['type'][_0x485f('0xf')](_0x485f('0x2c'))>-0x1&&_0x1f6cbd[_0x485f('0x1e')](),_0x485f('0xa')==_0x27c5ae[_0x485f('0x17')])continue;_0x1ce816&&_0x1ce816['type']==_0x53ebe5+'Object'&&_0x1ce816[_0x485f('0x10')][_0x485f('0x19')]==_0x4a2506[_0x485f('0x19')]?_0x1ce816['quantity']++:_0x1f6cbd[_0x485f('0x25')]({'type':_0x53ebe5+_0x485f('0x1f'),'element':_0x4a2506,'quantity':0x1}),_0x1d33c1[_0x485f('0x9')](_0x5a8336=>!(_0x485f('0xa')==_0x5a8336['type']&&_0x5a8336[_0x485f('0x16')]==_0xd92007));}else{if(this[_0x485f('0x1d')][_0x485f('0x38')](_0xd92007,_0x485f('0x11'))||_0xd92007['is'](_0x485f('0x10'),_0x485f('0x26'))){const _0x41ec2a=_0xd92007;if(_0x485f('0x32')==_0x53ebe5&&_0x485f('0x27')==_0x27c5ae[_0x485f('0x17')]||_0x485f('0xe')==_0x53ebe5&&_0x485f('0xa')==_0x27c5ae[_0x485f('0x17')])continue;if(_0x1ce816&&-0x1==_0x1ce816[_0x485f('0x17')][_0x485f('0xf')]('Container')){_0x485f('0x21')==_0x1ce816[_0x485f('0x17')]&&(_0x1ce816[_0x53ebe5]+='\x0a');continue;}let _0x17cb12;if(_0x17cb12=_0x485f('0x32')==_0x53ebe5?_0x41ec2a[_0x485f('0x15')]&&!this[_0x485f('0x1d')][_0x485f('0x2f')](_0x41ec2a[_0x485f('0x15')])?_0x41ec2a['nextSibling']:null:_0x41ec2a['previousSibling']&&!this[_0x485f('0x1d')][_0x485f('0x2f')](_0x41ec2a['previousSibling'])?_0x41ec2a['previousSibling']:null,_0x41ec2a[_0x485f('0x35')]||_0x17cb12&&_0x17cb12[_0x485f('0x35')]){const _0x3895af=_0x17cb12&&_0x17cb12[_0x485f('0x35')]?_0x17cb12:_0x41ec2a;_0x1ce816&&_0x1ce816[_0x485f('0x17')]==_0x53ebe5+'EmptyContainer'&&_0x1ce816['element']['name']==_0x3895af[_0x485f('0x19')]?_0x1ce816[_0x485f('0xb')]++:_0x1f6cbd[_0x485f('0x25')]({'type':_0x53ebe5+_0x485f('0x8'),'element':_0x3895af,'quantity':0x1});}else _0x1f6cbd[_0x485f('0x25')]({'type':_0x53ebe5+_0x485f('0x2c'),'element':_0x41ec2a});}}}}}[_0x485f('0xc')](_0x223d43){const _0xc0c7b6=this['_locale'],_0x5b2f12=[];for(const _0x5cf436 of _0x223d43){switch(_0x5cf436['type']){case _0x485f('0x21'):if(_0x5cf436[_0x485f('0x32')]=_0x5cf436[_0x485f('0x32')]['replace'](/(\S)\u000A+(\S)/g,_0x485f('0x31'))[_0x485f('0x7')](/\u000A/g,''),_0x5cf436[_0x485f('0xe')]=_0x5cf436[_0x485f('0xe')][_0x485f('0x7')](/(\S)\u000A+(\S)/g,_0x485f('0x31'))[_0x485f('0x7')](/\u000A/g,''),''!=_0x5cf436['add']&&''!=_0x5cf436[_0x485f('0xe')]){_0x5b2f12[_0x485f('0x25')]({'type':_0x485f('0x7'),'content':_0x3b975c(_0xc0c7b6,'REPLACE_TEXT',['\x22'+_0x5cf436[_0x485f('0xe')]+'\x22','\x22'+_0x5cf436['add']+'\x22'])});continue;}if(null!=_0x5cf436[_0x485f('0x32')][_0x485f('0x2b')](/^ +$/)){_0x5b2f12['push']({'type':'insertion','content':_0x3b975c(_0xc0c7b6,_0x485f('0x2'),_0x3b975c(_0xc0c7b6,_0x485f('0x14'),_0x5cf436[_0x485f('0x32')][_0x485f('0x24')]))});continue;}if(null!=_0x5cf436[_0x485f('0xe')]['match'](/^ +$/)){_0x5b2f12['push']({'type':_0x485f('0x12'),'content':_0x3b975c(_0xc0c7b6,_0x485f('0x1'),_0x3b975c(_0xc0c7b6,_0x485f('0x14'),_0x5cf436[_0x485f('0xe')][_0x485f('0x24')]))});continue;}if(''!=_0x5cf436[_0x485f('0x32')]){_0x5b2f12[_0x485f('0x25')]({'type':_0x485f('0x22'),'content':_0x3b975c(_0xc0c7b6,_0x485f('0x2'),'\x22'+_0x5cf436['add']+'\x22')});continue;}_0x5b2f12[_0x485f('0x25')]({'type':_0x485f('0x12'),'content':_0x3b975c(_0xc0c7b6,_0x485f('0x1'),'\x22'+_0x5cf436[_0x485f('0xe')]+'\x22')});continue;case _0x485f('0x1a'):case _0x485f('0x23'):_0x5b2f12['push']({'type':_0x485f('0x22'),'content':_0x3b975c(_0xc0c7b6,_0x485f('0x2'),this[_0x485f('0x13')](_0x5cf436[_0x485f('0x10')],_0x5cf436[_0x485f('0xb')]))});continue;case _0x485f('0x0'):case _0x485f('0x6'):_0x5b2f12['push']({'type':_0x485f('0x12'),'content':_0x3b975c(_0xc0c7b6,_0x485f('0x1'),this[_0x485f('0x13')](_0x5cf436[_0x485f('0x10')],_0x5cf436[_0x485f('0xb')]))});continue;case _0x485f('0x3'):_0x5b2f12[_0x485f('0x25')]({'type':_0x485f('0x22'),'content':_0x3b975c(_0xc0c7b6,_0x485f('0x2d'),this['getItemLabel'](_0x5cf436[_0x485f('0x10')],_0x5cf436[_0x485f('0xb')]))});continue;case _0x485f('0x37'):_0x5b2f12['push']({'type':_0x485f('0x12'),'content':_0x3b975c(_0xc0c7b6,_0x485f('0x1b'),this[_0x485f('0x13')](_0x5cf436[_0x485f('0x10')],_0x5cf436['quantity']))});continue;}_0x5b2f12[_0x485f('0x25')](_0x5cf436);}return _0x5b2f12;}}