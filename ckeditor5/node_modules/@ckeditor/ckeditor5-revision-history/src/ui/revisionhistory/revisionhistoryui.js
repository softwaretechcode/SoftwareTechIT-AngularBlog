/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x3146=['showRevisionViewerCallback','componentFactory','set','submit','config','pluginName','render','focus','items','saveButtonView','RevisionTracker','add','requires','view','plugins','remove','buttonView','bind','saveRevision','cancel','addMany','Save\x20current\x20revision','isReady','isEnabled','children','execute','change:isOpen','reset','isReadOnly','RevisionHistoryUI','revisionName','length','init','get'];(function(_0x564af6,_0x314681){const _0x49b65d=function(_0x493af0){while(--_0x493af0){_0x564af6['push'](_0x564af6['shift']());}};_0x49b65d(++_0x314681);}(_0x3146,0x1ce));const _0x49b6=function(_0x564af6,_0x314681){_0x564af6=_0x564af6-0x0;let _0x49b65d=_0x3146[_0x564af6];return _0x49b65d;};import{Plugin as _0x524fea}from'ckeditor5/src/core';import{ListView as _0x33c2df,ListItemView as _0x4eb552,ButtonView as _0x4ec388,createDropdown as _0x210e93}from'ckeditor5/src/ui';import _0x490952 from'../../revisiontracker';import _0x40f551 from'./revisionhistorysaverevisionformview';import _0x4c23a4 from'../../../theme/icons/revision-history.svg';import{getTranslation as _0xfa1363}from'../../utils/common-translations';export default class u extends _0x524fea{static get[_0x49b6('0x13')](){return _0x49b6('0x9');}static get[_0x49b6('0x1a')](){return[_0x490952];}[_0x49b6('0xc')](){const _0x4c6426=this['editor'],_0xb6764e=_0x4c6426[_0x49b6('0x1c')][_0x49b6('0xd')](_0x49b6('0x18'));_0x4c6426['ui'][_0x49b6('0xf')][_0x49b6('0x19')]('revisionHistory',_0x117e09=>{const _0x503177=_0x210e93(_0x117e09),_0x3e9309=_0x503177['panelView']['children'],_0x770785=new _0x33c2df(_0x117e09),_0x57f3b5=new _0x4eb552(_0x117e09),_0x56f4ff=new _0x4ec388(_0x117e09),_0x38eef9=new _0x4eb552(_0x117e09),_0x4af3a6=new _0x4ec388(_0x117e09),_0x1b7cec=new _0x40f551(_0x117e09);function _0x11693f(){_0x3e9309[_0x49b6('0xb')]&&_0x3e9309[_0x49b6('0x1d')](0x0),_0x3e9309[_0x49b6('0x19')](_0x770785);}function _0x909f1c(){_0x503177['isOpen']=!0x1,_0x4c6426['editing'][_0x49b6('0x1b')][_0x49b6('0x15')]();}return _0x503177['bind'](_0x49b6('0x3'))['to'](_0xb6764e,_0x49b6('0x2'),_0xb6764e,_0x49b6('0x3'),_0x4c6426,'isReadOnly',(_0x50a39b,_0x128c59,_0x2a146a)=>_0x50a39b&&_0x128c59&&!_0x2a146a),_0x503177[_0x49b6('0x1e')][_0x49b6('0x10')]({'icon':_0x4c23a4,'label':_0xfa1363(_0x117e09,'Revision\x20history'),'tooltip':!0x0}),_0x56f4ff['set']({'label':_0xfa1363(_0x117e09,_0x49b6('0x1')),'withText':!0x0}),_0x56f4ff['bind']('isEnabled')['to'](_0xb6764e,_0x49b6('0x2'),_0xb6764e,_0x49b6('0x3'),_0x4c6426,'isReadOnly',(_0x41f70b,_0x24da6a,_0x5ea1ff)=>_0x41f70b&&_0x24da6a&&!_0x5ea1ff),_0x56f4ff['on'](_0x49b6('0x5'),()=>function(){_0x3e9309[_0x49b6('0xb')]&&_0x3e9309[_0x49b6('0x1d')](0x0),(_0x1b7cec[_0x49b6('0x7')](),_0x3e9309[_0x49b6('0x19')](_0x1b7cec),_0x1b7cec[_0x49b6('0x15')]());}()),_0x4af3a6[_0x49b6('0x10')]({'label':_0xfa1363(_0x117e09,'Open\x20revision\x20history'),'withText':!0x0}),_0x4af3a6[_0x49b6('0x1f')]('isEnabled')['to'](_0xb6764e,'isReady',_0x4c6426,_0x49b6('0x8'),(_0x218201,_0x5bcca5)=>_0x218201&&!_0x5bcca5),_0x4af3a6['on'](_0x49b6('0x5'),()=>{_0x4c6426[_0x49b6('0x12')][_0x49b6('0xd')]('revisionHistory')[_0x49b6('0xe')](),_0x909f1c();}),_0x57f3b5['children'][_0x49b6('0x19')](_0x56f4ff),_0x38eef9[_0x49b6('0x4')][_0x49b6('0x19')](_0x4af3a6),_0x770785[_0x49b6('0x16')][_0x49b6('0x0')]([_0x57f3b5,_0x38eef9]),_0x503177['on'](_0x49b6('0x6'),()=>_0x11693f()),_0x1b7cec[_0x49b6('0x17')][_0x49b6('0x1f')](_0x49b6('0x3'))['to'](_0xb6764e,_0x49b6('0x2'),_0xb6764e,'isEnabled',_0x4c6426,_0x49b6('0x8'),(_0x56fe9c,_0x58b661,_0x182795)=>_0x56fe9c&&_0x58b661&&!_0x182795),_0x1b7cec['on'](_0x49b6('0x11'),()=>(_0x4c6426[_0x49b6('0x1c')][_0x49b6('0xd')](_0x490952)[_0x49b6('0x20')]({'name':_0x1b7cec[_0x49b6('0xa')]}),void _0x909f1c())),_0x1b7cec['on'](_0x49b6('0x21'),()=>_0x11693f()),_0x1b7cec[_0x49b6('0x14')](),_0x11693f(),_0x503177;});}}