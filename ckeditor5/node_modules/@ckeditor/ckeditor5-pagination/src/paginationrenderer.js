/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4590=['auto','tagName','change','_onUiReady','roots','view','_linesRepository','smooth','scrollTo','cleanLines','bind','_getAttachedDomRoot','domRoots','_getPageBreakLineOffset','scrollTop','_resizeObserver','change:pageBreaks','_paginationLookupPlugin','get','_updatePageBreakLines','editing','scrollToPage','window','PaginationRenderer','BODY','length','values','excludeScrollbarsAndBorders','bottom','document','listenTo','isEnabled','ownerDocument','body','resize','editor','init','change:isEnabled','pageBreaks','once','contains','removeClass','destroy','scrollLeft','pluginName','_renderPageBreakLine','showLine','addClass','width','top','_scrollableEditingRootDomAncestor'];(function(_0x29ab3a,_0x459094){const _0x328cbe=function(_0x135a17){while(--_0x135a17){_0x29ab3a['push'](_0x29ab3a['shift']());}};_0x328cbe(++_0x459094);}(_0x4590,0x113));const _0x328c=function(_0x29ab3a,_0x459094){_0x29ab3a=_0x29ab3a-0x0;let _0x328cbe=_0x4590[_0x29ab3a];return _0x328cbe;};import{Plugin as _0x400986}from'ckeditor5/src/core';import{Rect as _0x548f3a,global as _0x4aecc6,ResizeObserver as _0x4fe28d}from'ckeditor5/src/utils';import _0x1d46e3 from'./ui/linesrepository';const L='ck-pagination_disabled';export default class l extends _0x400986{constructor(){super(...arguments),this[_0x328c('0x1e')]=null,this[_0x328c('0x2e')]=null;}static get[_0x328c('0x18')](){return _0x328c('0x3');}[_0x328c('0x10')](){this['set']({'pageNumber':0x1}),this[_0x328c('0x25')]=new _0x1d46e3(this['editor']),this[_0x328c('0x1e')]=null,this[_0x328c('0x2e')]=null,this[_0x328c('0x30')]=this[_0x328c('0xf')]['plugins'][_0x328c('0x31')]('PaginationLookup'),this[_0x328c('0x29')](_0x328c('0xb'))['to'](this[_0x328c('0xf')]['plugins'][_0x328c('0x31')]('PaginationEditing')),this[_0x328c('0xf')]['ui']['once']('ready',()=>this['_onUiReady']()),this['on'](_0x328c('0x11'),(_0x4fe64d,_0x1f3a9c,_0x46a73b)=>{_0x46a73b||this['_linesRepository']['cleanLines'](),this['_updateEditingRootsClass'](_0x46a73b);});}[_0x328c('0x16')](){this[_0x328c('0x25')][_0x328c('0x16')](),this[_0x328c('0x1e')]=null,this[_0x328c('0x2e')]&&this[_0x328c('0x2e')]['destroy']();}[_0x328c('0x1')](_0x1722c2){if(!this[_0x328c('0xb')])return;const _0x3ee60e=_0x1722c2>0x1?this[_0x328c('0x2c')](_0x1722c2-0x1):0x0;this[_0x328c('0x1e')][_0x328c('0x27')]({'top':_0x3ee60e-0xa,'left':this['_scrollableEditingRootDomAncestor'][_0x328c('0x17')],'behavior':_0x328c('0x26')});}[_0x328c('0x22')](){const _0x51f148=this[_0x328c('0xf')],_0x23b40e=this[_0x328c('0x2a')]();_0x23b40e?(this['_scrollableEditingRootDomAncestor']=function(_0x5f4a0a){let _0xf75616=_0x5f4a0a;do{_0xf75616=_0xf75616['parentElement'];const _0x38074d=_0x4aecc6[_0x328c('0x2')]['getComputedStyle'](_0xf75616)['overflowY'];if(_0x328c('0x1f')==_0x38074d||'scroll'==_0x38074d)break;}while(_0x328c('0x4')!=_0xf75616[_0x328c('0x20')]);return _0xf75616;}(_0x23b40e),_0x51f148['ui'][_0x328c('0x24')]['listenTo'](this[_0x328c('0x1e')],'scroll',()=>{this[_0x328c('0x32')]();},{'usePassive':!0x0}),_0x51f148['ui'][_0x328c('0x24')][_0x328c('0xa')](_0x4aecc6['window'],_0x328c('0xe'),()=>this[_0x328c('0x32')]()),this[_0x328c('0x2e')]=new _0x4fe28d(this[_0x328c('0x1e')],()=>{this[_0x328c('0x32')]();}),this[_0x328c('0xa')](this[_0x328c('0x30')],_0x328c('0x2f'),()=>this[_0x328c('0x32')]())):_0x51f148['ui'][_0x328c('0x13')]('update',()=>this[_0x328c('0x22')]());}[_0x328c('0x2a')](){for(const _0xb5baf3 of this[_0x328c('0xf')]['editing'][_0x328c('0x24')][_0x328c('0x2b')][_0x328c('0x6')]())if(_0xb5baf3[_0x328c('0xc')][_0x328c('0xd')][_0x328c('0x14')](_0xb5baf3))return _0xb5baf3;return null;}['_updatePageBreakLines'](){if(!this[_0x328c('0xb')])return;const _0x8015fe=this[_0x328c('0x2a')](),_0x22efa1=this[_0x328c('0x30')]['pageBreaks'];if(this[_0x328c('0x25')][_0x328c('0x28')](),!_0x8015fe||0x1==_0x22efa1['length'])return void(this['pageNumber']=0x1);const _0x58d5e5=new _0x548f3a(_0x8015fe)[_0x328c('0x7')](),_0x16b67c=new _0x548f3a(this[_0x328c('0x1e')])[_0x328c('0x7')](),_0x2441a4=_0x16b67c[_0x328c('0x1d')]+_0x16b67c['height']/0x3;let _0x2f7d45=!0x1;for(let _0x31524c=0x1;_0x31524c<_0x22efa1[_0x328c('0x5')];_0x31524c++){const _0x370ade=this[_0x328c('0x2c')](_0x31524c,_0x16b67c);if(!_0x370ade)continue;const _0x327769=_0x16b67c['top']+_0x370ade-this[_0x328c('0x1e')][_0x328c('0x2d')];this[_0x328c('0x19')](_0x327769,_0x58d5e5,_0x16b67c,_0x31524c),_0x327769>_0x2441a4&&!_0x2f7d45&&(this['pageNumber']=_0x31524c,_0x2f7d45=!0x0);}_0x2f7d45||(this['pageNumber']=_0x22efa1[_0x328c('0x5')]);}[_0x328c('0x19')](_0xe5ed86,_0x59f38e,_0x3efb03,_0x4f91a7){const {scrollX:_0x2bceb8,scrollY:_0x5c433b}=_0x4aecc6['window'];_0x3efb03[_0x328c('0x1d')]<_0xe5ed86&&_0xe5ed86<_0x3efb03[_0x328c('0x8')]&&this[_0x328c('0x25')][_0x328c('0x1a')](_0x59f38e['left']+_0x2bceb8,_0xe5ed86+_0x5c433b,_0x59f38e[_0x328c('0x1c')],_0x4f91a7+0x1);}[_0x328c('0x2c')](_0x236332,_0x2b0d83=null){const _0x31709c=this[_0x328c('0x30')][_0x328c('0x12')][_0x236332]['offset'];return _0x31709c?(_0x2b0d83||(_0x2b0d83=new _0x548f3a(this['_scrollableEditingRootDomAncestor'])[_0x328c('0x7')]()),_0x31709c-_0x2b0d83[_0x328c('0x1d')]+this['_scrollableEditingRootDomAncestor'][_0x328c('0x2d')]):0x0;}['_updateEditingRootsClass'](_0x13bb56){const _0x2f316b=this[_0x328c('0xf')][_0x328c('0x0')][_0x328c('0x24')];_0x2f316b[_0x328c('0x21')](_0x3372b8=>{for(const _0x322f03 of _0x2f316b[_0x328c('0x9')][_0x328c('0x23')])_0x13bb56?_0x3372b8[_0x328c('0x15')](L,_0x322f03):_0x3372b8[_0x328c('0x1b')](L,_0x322f03);});}}