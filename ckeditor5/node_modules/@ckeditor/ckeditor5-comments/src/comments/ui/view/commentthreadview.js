/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x2215=['_cancelAllConfirms','_boundFirstCommentView','execute','_model','ck-reset_all-excluded','setTemplate','commentViews','bind','Resolve','.ck-thread__container','showConfirm','addMany','isReadOnly','div','length','commentsListView','isResolvable','ck-thread--active','getTemplate','removeButton','add','resolveCommentThread','label','high','bindTemplate','_bindFirstCommentView','icon','commentThreadHeaderView','then','stop','ck-comment--resolve','render','change:isActive','fire','_createResolveButton','containerElement','set','actionBar','element','isConfirm','ck-thread--remove-confirmation','change:isReadOnly','check','listenTo','ck-thread__container','cancelConfirm','isResolved','locale','tooltip','actionIndicator','isActive','extendTemplate','resolveButton','commentThreadChildren','ck-thread','isVisible','querySelector','commentThreadInputView','change:isResolved','unbind','remove'];(function(_0x32b1cc,_0x2215ae){const _0x494c28=function(_0x4450aa){while(--_0x4450aa){_0x32b1cc['push'](_0x32b1cc['shift']());}};_0x494c28(++_0x2215ae);}(_0x2215,0x139));const _0x494c=function(_0x32b1cc,_0x2215ae){_0x32b1cc=_0x32b1cc-0x0;let _0x494c28=_0x2215[_0x32b1cc];return _0x494c28;};import{ConfirmMixin as _0x25169b}from'ckeditor5-collaboration/src/collaboration-core';import{ButtonView as _0x5250b2}from'ckeditor5/src/ui';import{icons as _0x21c6e9}from'ckeditor5/src/core';import _0x35f071 from'./basecommentthreadview';import{getTranslation as _0x18ee0b}from'../../../utils/common-translations';export default class lt extends _0x25169b(_0x35f071){constructor(_0x1018f5,_0x53e6a7,_0x258f27,_0x638867){super(_0x1018f5,_0x53e6a7,_0x258f27,_0x638867),this['commentThreadChildren']=this['createCollection'](),this[_0x494c('0x2d')][_0x494c('0x3')]([this[_0x494c('0x7')],this[_0x494c('0x31')]]),this[_0x494c('0x38')][_0x494c('0x26')]&&this[_0x494c('0x2d')][_0x494c('0xc')](this['commentThreadHeaderView'],0x0),this[_0x494c('0x38')]['on'](_0x494c('0x32'),(_0xd144dd,_0x40fd5b,_0x224989)=>{_0x224989?this[_0x494c('0x2d')][_0x494c('0xc')](this[_0x494c('0x13')],0x0):this[_0x494c('0x2d')]['remove'](this[_0x494c('0x13')]);}),this[_0x494c('0x1c')](_0x494c('0x29'),null),this[_0x494c('0x1b')]=null,this['_boundFirstCommentView']=null,this[_0x494c('0x27')]=_0x1018f5,this[_0x494c('0x2c')]=this[_0x494c('0x1a')](),this[_0x494c('0x3a')](this['getTemplate']()),this['on'](_0x494c('0x18'),(_0x50fe60,_0x5bebbb,_0x2ac206)=>{_0x2ac206||this[_0x494c('0x35')]();}),this[_0x494c('0x23')](this[_0x494c('0x38')],_0x494c('0x21'),(_0x1f6e4c,_0x3d1620,_0x29d165)=>{_0x29d165&&this[_0x494c('0x35')]();}),this[_0x494c('0x6')]>0x0&&this[_0x494c('0x11')](),this[_0x494c('0x23')](this[_0x494c('0x7')][_0x494c('0x3b')],'add',()=>{this['_bindFirstCommentView']();});}[_0x494c('0xa')](){const _0x59c2dd=this[_0x494c('0x10')];return{'tag':_0x494c('0x5'),'attributes':{'class':[_0x494c('0x2e'),_0x494c('0x39'),_0x59c2dd['if'](_0x494c('0x2a'),_0x494c('0x9')),_0x59c2dd['if'](_0x494c('0x1f'),_0x494c('0x20')),_0x59c2dd['to'](_0x494c('0x29'),_0x55b13d=>_0x55b13d?'ck-thread--'+_0x55b13d:'')],'data-thread-id':this[_0x494c('0x38')]['id'],'tabindex':-0x1},'children':[{'tag':_0x494c('0x5'),'attributes':{'class':_0x494c('0x24')},'children':this['commentThreadChildren']}]};}['render'](){super[_0x494c('0x17')](),this[_0x494c('0x1b')]=this[_0x494c('0x1e')][_0x494c('0x30')](_0x494c('0x1'));}[_0x494c('0x35')](){this['cancelConfirm']();for(const _0x3201c4 of this[_0x494c('0x7')][_0x494c('0x3b')])_0x3201c4[_0x494c('0x25')]();}[_0x494c('0x11')](){const {locale:_0xfc086}=this,_0x2c1eb0=this[_0x494c('0x7')][_0x494c('0x3b')]['get'](0x0);_0x2c1eb0===this[_0x494c('0x36')]||_0x2c1eb0['isSystemComment']||(this['_boundFirstCommentView']=_0x2c1eb0,this[_0x494c('0x33')]('actionIndicator'),this[_0x494c('0x3c')](_0x494c('0x29'))['to'](_0x2c1eb0,_0x494c('0x29'),_0x33b8d7=>'remove'===_0x33b8d7?_0x494c('0x34'):null),_0x2c1eb0['placeholder']=_0x18ee0b(_0xfc086,'Write\x20a\x20comment...'),_0x2c1eb0[_0x494c('0xb')]['on'](_0x494c('0x37'),_0x1f3ea9=>{_0x1f3ea9[_0x494c('0x15')](),this[_0x494c('0x2')](_0x18ee0b(_0xfc086,'Delete\x20comment\x20thread?'),this[_0x494c('0x1b')])[_0x494c('0x14')](()=>{this[_0x494c('0x19')]('removeCommentThread');});},{'priority':_0x494c('0xf')}),_0x2c1eb0[_0x494c('0x1d')][_0x494c('0xc')](this[_0x494c('0x2c')],0x0));}[_0x494c('0x1a')](){const _0x1e2ffb=new _0x5250b2(this[_0x494c('0x27')]);return _0x1e2ffb[_0x494c('0xe')]=_0x18ee0b(this[_0x494c('0x27')],_0x494c('0x0')),_0x1e2ffb[_0x494c('0x28')]=_0x18ee0b(this['locale'],'Resolve'),_0x1e2ffb[_0x494c('0x12')]=_0x21c6e9[_0x494c('0x22')],_0x1e2ffb[_0x494c('0x2b')]({'attributes':{'class':_0x494c('0x16')}}),_0x1e2ffb[_0x494c('0x3c')]('isEnabled')['to'](this['_model'],_0x494c('0x4'),_0x53807f=>!_0x53807f),_0x1e2ffb[_0x494c('0x3c')](_0x494c('0x2f'))['to'](this[_0x494c('0x38')],_0x494c('0x8'),this[_0x494c('0x38')],_0x494c('0x26'),(_0x2a36de,_0x1d77d2)=>_0x2a36de&&!_0x1d77d2),_0x1e2ffb['on'](_0x494c('0x37'),()=>{this['fire'](_0x494c('0xd'),this[_0x494c('0x38')]['id']);}),_0x1e2ffb;}}