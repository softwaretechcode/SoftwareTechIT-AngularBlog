/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1f6f=['addCommentThread','plugins','execute','config','map','importWord','commands','collaboration_features','_handleImportedData','collaboration.channelId','afterInit','forEach','get','editor','importWord.commentsStyles'];(function(_0x22668c,_0x1f6f17){const _0x1b7d62=function(_0x5292cb){while(--_0x5292cb){_0x22668c['push'](_0x22668c['shift']());}};_0x1b7d62(++_0x1f6f17);}(_0x1f6f,0xf4));const _0x1b7d=function(_0x22668c,_0x1f6f17){_0x22668c=_0x22668c-0x0;let _0x1b7d62=_0x1f6f[_0x22668c];return _0x1b7d62;};import{Plugin as _0x248ac5}from'ckeditor5/src/core';import{priorities as _0x43f8af}from'ckeditor5/src/utils';import{Users as _0x2a177d}from'ckeditor5-collaboration/src/collaboration-core';import _0x3a8b5b from'../commentsrepository';export default class Y extends _0x248ac5{constructor(_0x31e8ad){super(_0x31e8ad),this['editor'][_0x1b7d('0xe')]['define'](_0x1b7d('0xa'),'basic');}[_0x1b7d('0x6')](){const _0x142e28=this[_0x1b7d('0x9')],_0x591434=_0x142e28[_0x1b7d('0x2')][_0x1b7d('0x8')]('importWord'),_0x5e5ad5=_0x142e28[_0x1b7d('0xc')][_0x1b7d('0x8')](_0x2a177d);_0x591434&&(_0x591434['on'](_0x1b7d('0xd'),(_0x35632f,[,_0x5a9d8e])=>{_0x5a9d8e[_0x1b7d('0x3')]={'comments':!0x0,'user_id':_0x5e5ad5['me']['id'],'comments_styles':this[_0x1b7d('0x9')][_0x1b7d('0xe')]['get'](_0x1b7d('0xa'))};},{'priority':_0x43f8af['high']+0xa}),this['listenTo'](_0x591434,'dataInsert',this[_0x1b7d('0x4')]));}[_0x1b7d('0x4')](_0x326eb0,_0x147e06){const {comment_threads:_0x1b6f5c}=_0x147e06;_0x1b6f5c&&_0x1b6f5c[_0x1b7d('0x7')](({thread_id:_0x2e93aa,comments:_0x45b52a,is_resolved:_0x4ad6a5})=>{const _0x1476a1=new Date(),_0x4932fb=_0x45b52a[_0x1b7d('0x0')](({author:_0x209896,content:_0x38be1b,created_at:_0xd11ec4})=>({'content':_0x38be1b,'authorId':this[_0x1b7d('0x9')]['plugins'][_0x1b7d('0x8')](_0x2a177d)['me']['id'],'createdAt':_0x1476a1,'attributes':{'@external':{'authorName':_0x209896,'createdAt':_0xd11ec4?new Date(_0xd11ec4):new Date(),'source':_0x1b7d('0x1')}}})),_0x304be9=this['editor']['config'][_0x1b7d('0x8')](_0x1b7d('0x5'));this[_0x1b7d('0x9')][_0x1b7d('0xc')][_0x1b7d('0x8')](_0x3a8b5b)[_0x1b7d('0xb')]({'channelId':_0x304be9,'threadId':_0x2e93aa,'comments':_0x4932fb,'resolvedAt':_0x4ad6a5?_0x1476a1:null});});}}