/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x36f5=['highest','resolveCommentThread','activate','focus','init','get','resolvedAt','plugins','listenTo','has','collection','requires','isActive','getCommentThread','_calculatePosition','addCommentThread','resolvedThreads','context','length','remove','CommentsArchive','add','removeCommentThread','pluginName'];(function(_0x250c5b,_0x36f5cb){const _0x500eb3=function(_0x419701){while(--_0x419701){_0x250c5b['push'](_0x250c5b['shift']());}};_0x500eb3(++_0x36f5cb);}(_0x36f5,0xff));const _0x500e=function(_0x250c5b,_0x36f5cb){_0x250c5b=_0x250c5b-0x0;let _0x500eb3=_0x36f5[_0x250c5b];return _0x500eb3;};import{ContextPlugin as _0x4deb87}from'ckeditor5/src/core';import{Collection as _0x436ccc}from'ckeditor5/src/utils';import _0x3d7aff from'./commentsrepository';import _0x14ad91 from'../annotations/annotations';export default class p extends _0x4deb87{static get[_0x500e('0x8')](){return _0x500e('0x5');}static get[_0x500e('0x14')](){return[_0x3d7aff,_0x14ad91];}constructor(_0x5cee9b){super(_0x5cee9b),this[_0x500e('0x1')]=new _0x436ccc();}[_0x500e('0xd')](){const _0x2f176d=this[_0x500e('0x2')],_0x5e6692=_0x2f176d['plugins'][_0x500e('0xe')](_0x3d7aff),_0x1499bd=_0x2f176d[_0x500e('0x10')]['get'](_0x14ad91);this[_0x500e('0x11')](_0x5e6692,_0x500e('0x0'),(_0x5e4aa7,{threadId:_0x4b8840,resolvedAt:_0x560ebf,deletedAt:_0x144c6a})=>{if(_0x560ebf&&!_0x144c6a){const _0x881537=_0x5e6692[_0x500e('0x16')](_0x4b8840);this[_0x500e('0x1')][_0x500e('0x6')](_0x881537,this[_0x500e('0x17')](_0x560ebf));}}),this[_0x500e('0x11')](_0x5e6692,_0x500e('0xa'),(_0x3d4a2a,{threadId:_0x196edf,resolvedAt:_0x5eb758})=>{const _0x5c8e30=_0x5e6692[_0x500e('0x16')](_0x196edf);this[_0x500e('0x1')][_0x500e('0x6')](_0x5c8e30,this[_0x500e('0x17')](_0x5eb758));},{'priority':_0x500e('0x9')}),this['listenTo'](_0x5e6692,'reopenCommentThread',(_0x3c7c97,{threadId:_0x54bd4c})=>{const _0x3f4447=_0x5e6692[_0x500e('0x16')](_0x54bd4c);this[_0x500e('0x1')][_0x500e('0x12')](_0x3f4447)&&this['resolvedThreads'][_0x500e('0x4')](_0x3f4447);},{'priority':_0x500e('0x9')}),this[_0x500e('0x11')](_0x5e6692,_0x500e('0x7'),(_0x3b923c,{threadId:_0x317c39})=>{const _0x12f4f3=_0x5e6692[_0x500e('0x16')](_0x317c39);this[_0x500e('0x1')][_0x500e('0x12')](_0x12f4f3)&&this[_0x500e('0x1')][_0x500e('0x4')](_0x12f4f3);},{'priority':_0x500e('0x9')}),this[_0x500e('0x11')](_0x1499bd[_0x500e('0x13')],_0x500e('0xc'),(_0x5ba6b4,_0x4313d8)=>{_0x4313d8[_0x500e('0x15')]=!0x0,_0x1499bd[_0x500e('0xb')](_0x4313d8);});}[_0x500e('0x17')](_0x459034){const _0xd32a52=[...this[_0x500e('0x1')]]['findIndex'](_0x14f9a2=>_0x14f9a2[_0x500e('0xf')]<_0x459034);return _0xd32a52>-0x1?_0xd32a52:this[_0x500e('0x1')][_0x500e('0x3')];}}