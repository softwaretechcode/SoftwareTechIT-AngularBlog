/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1cf7=['icon','from','bind','getRange','editing','requires','find','commands','hasCommentThread','comment','isFocused','addComment','Comment','componentFactory','_createUIButton','model','CommentThreadInputView','view','focus','change:activeAnnotations','push','get','CommentsListView','CommentsUI','comment:','has','hasMarkerForId','stop','listenTo','isEnabled','removeCommentThread','tooltip','editor','plugins','_viewToController','map','pluginName','length','execute','addCommentThread','getAllMarkersForId','init','addSourceCollector','activeMarker','locale','label'];(function(_0xd92bba,_0x1cf7b6){const _0x3b3b7a=function(_0x1f773d){while(--_0x1f773d){_0xd92bba['push'](_0xd92bba['shift']());}};_0x3b3b7a(++_0x1cf7b6);}(_0x1cf7,0x9d));const _0x3b3b=function(_0xd92bba,_0x1cf7b6){_0xd92bba=_0xd92bba-0x0;let _0x3b3b7a=_0x1cf7[_0xd92bba];return _0x3b3b7a;};import{Plugin as _0x2f3b58}from'ckeditor5/src/core';import _0x5cb523 from'./commentsrepository';import _0x2e1983 from'./commentsediting';import _0x7c2b9c from'../annotations/editorannotations';import{ButtonView as _0x3ca495}from'ckeditor5/src/ui';import _0x415878 from'../../theme/icons/add-comment.svg';import _0x54fffe from'../annotations/annotations';import _0x5d420f from'./ui/view/commentslistview';import _0x288220 from'./ui/view/commentthreadinputview';import{getTranslation as _0x191317}from'../utils/common-translations';export default class e extends _0x2f3b58{static get[_0x3b3b('0x11')](){return _0x3b3b('0x4');}static get[_0x3b3b('0x20')](){return[_0x5cb523,_0x2e1983,_0x7c2b9c,_0x54fffe];}get[_0x3b3b('0x3')](){return _0x5d420f;}get[_0x3b3b('0x2b')](){return _0x288220;}[_0x3b3b('0x16')](){const _0x20ada6=this[_0x3b3b('0xd')],_0x2d0e57=_0x20ada6[_0x3b3b('0xe')][_0x3b3b('0x2')](_0x5cb523),_0x2aed0e=_0x20ada6[_0x3b3b('0xe')][_0x3b3b('0x2')](_0x2e1983),_0x1e0940=_0x20ada6[_0x3b3b('0xe')][_0x3b3b('0x2')](_0x54fffe),_0x47b157=_0x20ada6[_0x3b3b('0xe')][_0x3b3b('0x2')](_0x7c2b9c);_0x20ada6['ui'][_0x3b3b('0x28')]['add'](_0x3b3b('0x24'),()=>this[_0x3b3b('0x29')]()),_0x47b157[_0x3b3b('0x17')](()=>{const _0x371abe=[];for(const [_0x37ccb9,_0xe6cde]of _0x2d0e57['_threadToController']){const _0x453909=_0x2aed0e[_0x3b3b('0x15')](_0x37ccb9['id']),_0x64eedc=_0x453909[_0x3b3b('0x10')](_0x5ed5d5=>_0x5ed5d5[_0x3b3b('0x1e')]());_0x453909[_0x3b3b('0x12')]>0x0&&_0x371abe[_0x3b3b('0x1')]([_0xe6cde[_0x3b3b('0x2c')],_0x64eedc]);}return _0x371abe;}),this[_0x3b3b('0x9')](_0x1e0940,_0x3b3b('0x0'),(_0x2055d6,_0x2b3bd0,_0x4f3395)=>{const _0x5cb1d1=Array[_0x3b3b('0x1c')](_0x4f3395)['map'](_0x168f57=>_0x168f57['innerView'])[_0x3b3b('0x21')](_0x9c03ba=>_0x2d0e57[_0x3b3b('0xf')][_0x3b3b('0x6')](_0x9c03ba));if(!_0x5cb1d1)return void(_0x2aed0e[_0x3b3b('0x18')]=null);const _0x33837c=_0x2d0e57['_viewToController'][_0x3b3b('0x2')](_0x5cb1d1)[_0x3b3b('0x2a')]['id'],_0x5a38e5=_0x3b3b('0x5')+_0x33837c;_0x33837c&&_0x2aed0e[_0x3b3b('0x7')](_0x33837c)?_0x2aed0e['activeMarker']=_0x5a38e5:_0x2aed0e[_0x3b3b('0x18')]&&(_0x2aed0e['activeMarker']=null);}),this[_0x3b3b('0x9')](_0x2d0e57,_0x3b3b('0xb'),(_0x1e566f,{threadId:_0x59e6df,isFromAdapter:_0x22dd15})=>{!_0x22dd15&&_0x20ada6['ui']['focusTracker'][_0x3b3b('0x25')]&&_0x2aed0e['hasMarkerForId'](_0x59e6df)&&_0x20ada6[_0x3b3b('0x1f')][_0x3b3b('0x2c')][_0x3b3b('0x2d')]();},{'priority':'highest'}),this[_0x3b3b('0x9')](_0x2d0e57,_0x3b3b('0x26'),(_0x233ab1,{threadId:_0x22ee0d,isFromAdapter:_0x33d391})=>{if(_0x33d391||!_0x2aed0e['hasMarkerForId'](_0x22ee0d)||!_0x2d0e57[_0x3b3b('0x23')](_0x22ee0d))return;0x1===_0x2d0e57['getCommentThread'](_0x22ee0d)[_0x3b3b('0x12')]&&(_0x20ada6[_0x3b3b('0x1f')][_0x3b3b('0x2c')][_0x3b3b('0x2d')](),_0x233ab1[_0x3b3b('0x8')]());},{'priority':'low'});}[_0x3b3b('0x29')](){const _0x5cfa59=this[_0x3b3b('0xd')],_0x2abf8d=new _0x3ca495(_0x5cfa59['locale']),_0x425c94=_0x5cfa59[_0x3b3b('0x22')][_0x3b3b('0x2')](_0x3b3b('0x14'));return _0x2abf8d[_0x3b3b('0x1a')]=_0x191317(_0x5cfa59[_0x3b3b('0x19')],'Comment'),_0x2abf8d[_0x3b3b('0xc')]=_0x191317(_0x5cfa59[_0x3b3b('0x19')],_0x3b3b('0x27')),_0x2abf8d[_0x3b3b('0x1b')]=_0x415878,_0x2abf8d[_0x3b3b('0x1d')](_0x3b3b('0xa'))['to'](_0x425c94),this['listenTo'](_0x2abf8d,_0x3b3b('0x13'),()=>_0x425c94[_0x3b3b('0x13')]()),_0x2abf8d;}}