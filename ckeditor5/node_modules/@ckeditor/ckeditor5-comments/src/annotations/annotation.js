/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x36d6=['refreshVisibility','targetRect','stopListening','view','_assertCorrectTarget','render','item','isVisible','length','isActive','nodeType','element','type','function','remove','focusTracker','focusableElements','_id','_target','annotation-invalid-target','target','_getNormalizedTarget','every','offsetParent','filter','mainView','add','_type','getClientRects'];(function(_0x2a0870,_0x36d6f2){const _0x494858=function(_0x5ad8f4){while(--_0x5ad8f4){_0x2a0870['push'](_0x2a0870['shift']());}};_0x494858(++_0x36d6f2);}(_0x36d6,0x114));const _0x4948=function(_0x2a0870,_0x36d6f2){_0x2a0870=_0x2a0870-0x0;let _0x494858=_0x36d6[_0x2a0870];return _0x494858;};import{CKEditorError as _0x302764,Rect as _0x59d830,Collection as _0x39193d,ObservableMixin as _0x1f988c}from'ckeditor5/src/utils';export default class d extends _0x1f988c(){constructor({view:_0x1c6efe,target:_0x39d939,type:_0x32d894,isVisible:_0x16c96e=!0x0}){super(),this[_0x4948('0x11')]=_0x1c6efe,this[_0x4948('0x11')][_0x4948('0x19')]||this['view'][_0x4948('0x13')](),this[_0x4948('0xc')]=_0x32d894,this[_0x4948('0x3')]=_0x39d939,d[_0x4948('0x12')](this[_0x4948('0x6')]()),this[_0x4948('0x1')]=new _0x39193d([this['view'][_0x4948('0x19')]],{'idProperty':_0x4948('0x2')}),this[_0x4948('0x1')]['on'](_0x4948('0xb'),(_0x2bc25f,_0x3b2b91)=>{this[_0x4948('0x11')][_0x4948('0x0')][_0x4948('0xb')](_0x3b2b91);}),this[_0x4948('0x1')]['on']('remove',(_0x166795,_0x1061ca)=>{this[_0x4948('0x11')][_0x4948('0x0')][_0x4948('0x1c')](_0x1061ca);}),this['set'](_0x4948('0x15'),_0x16c96e);}get[_0x4948('0x1a')](){return'function'==typeof this['_type']?this[_0x4948('0xc')]():this[_0x4948('0xc')];}get['innerView'](){return this[_0x4948('0x11')][_0x4948('0xa')];}get[_0x4948('0x5')](){const _0xda31d8=this['_getNormalizedTarget']();return d[_0x4948('0x12')](_0xda31d8),_0xda31d8;}get[_0x4948('0xf')](){const _0x57927f=this[_0x4948('0x5')];if(null===_0x57927f)return null;if(_0x57927f instanceof _0x59d830)return _0x57927f;const _0x48e3b9=_0x57927f[_0x4948('0x9')](_0x2424ac=>function(_0x331e58){const _0x206050=_0x331e58[_0x4948('0x8')];if(_0x206050)return!0x0;const _0x3cccbb=_0x331e58[_0x4948('0xd')]()[_0x4948('0x14')](0x0);return!!_0x3cccbb;}(_0x2424ac));return 0x0===_0x48e3b9[_0x4948('0x16')]?null:new _0x59d830(_0x48e3b9[0x0][_0x4948('0xd')]()[_0x4948('0x14')](0x0));}get[_0x4948('0x17')](){return this[_0x4948('0x11')][_0x4948('0x17')];}set[_0x4948('0x17')](_0x40d013){this[_0x4948('0x11')][_0x4948('0x17')]=_0x40d013,this[_0x4948('0x11')]['mainView']['isActive']=_0x40d013;}['updateTargetRect'](){this[_0x4948('0x11')][_0x4948('0xf')]=this['targetRect'];}['destroy'](){this[_0x4948('0x1')][_0x4948('0x10')](),this[_0x4948('0x1')]['clear'](),this[_0x4948('0x10')]();}[_0x4948('0xe')](){this[_0x4948('0x15')]=!!this['targetRect'];}static[_0x4948('0x12')](_0x2c9c21){if(!(null===_0x2c9c21||_0x2c9c21 instanceof _0x59d830||Array['isArray'](_0x2c9c21)&&_0x2c9c21[_0x4948('0x7')](_0x3c965f=>y(_0x3c965f))))throw new _0x302764(_0x4948('0x4'),null,{'target':_0x2c9c21});}[_0x4948('0x6')](){const _0x187840=_0x4948('0x1b')==typeof this['_target']?this[_0x4948('0x3')]():this[_0x4948('0x3')];return y(_0x187840)?[_0x187840]:_0x187840;}}function y(_0x30ac72){return null!==_0x30ac72&&'object'==typeof _0x30ac72&&_0x4948('0x18')in _0x30ac72&&0x1===_0x30ac72[_0x4948('0x18')];}