/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x579b=['change:targetRect','_alignForTopChange','bottom','target','push','_sidebarItemViewToAnnotation','change:top','view','refresh','minHeight','last','_activeAnnotation','class','listenTo','getIndex','content','destroy','context','_setItemTop','container','_detachFromContainer','sidebar-setcontainer-invalid-element','locale','element','_updateLastItem','add','rearrange','set','stopListening','sidebar.preventScrollOutOfView','delete','setContainer','define','get','_alignAfterItem','_getTargetTop','_attachToContainer','sidebar.container','top','change:_lastItem','updateHeight','_recalculateBuffer','remove','_annotations','config','change:bottom','clear','_alignBeforeItem','targetRect','_annotationToSidebarItemView','_recalculate','_getItemBefore','max','bind','_alignForBottomChange','isAnimationDisabled','object','pluginName','list','_getItemAfter','_getMaxAvailableTop','nodeType','appendChild','_spaceBetweenItems','getSidebarItemView','_lastItem','_destroySidebarItemView','render','length','_createSidebarView','Sidebar','isActive','_alignToTargetRect'];(function(_0x18c2ac,_0x579b06){const _0x1bb21c=function(_0x4972ae){while(--_0x4972ae){_0x18c2ac['push'](_0x18c2ac['shift']());}};_0x1bb21c(++_0x579b06);}(_0x579b,0xcc));const _0x1bb2=function(_0x18c2ac,_0x579b06){_0x18c2ac=_0x18c2ac-0x0;let _0x1bb21c=_0x579b[_0x18c2ac];return _0x1bb21c;};import{ContextPlugin as _0x3ce82f}from'ckeditor5/src/core';import{Rect as _0x3d03cc,CKEditorError as _0x36b5e}from'ckeditor5/src/utils';import _0x16d3f8 from'./view/sidebarview';import _0x124176 from'./view/sidebaritemview';export default class z extends _0x3ce82f{static get[_0x1bb2('0x48')](){return _0x1bb2('0xc');}constructor(_0x385da3){super(_0x385da3),this[_0x1bb2('0x2a')](_0x1bb2('0x7'),void 0x0),this[_0x1bb2('0x16')]=this[_0x1bb2('0xb')](),this['set']('container',null),this[_0x1bb2('0x5')]=0x19,this[_0x1bb2('0x14')]=new Map(),this[_0x1bb2('0x40')]=new Map(),this[_0x1bb2('0x20')]['config'][_0x1bb2('0x2f')](_0x1bb2('0x2c'),!0x1),this[_0x1bb2('0x3a')]=null,this[_0x1bb2('0x1a')]=null,this['_recalculateBuffer']=[];}['init'](){const _0x509c10=this[_0x1bb2('0x20')][_0x1bb2('0x3b')][_0x1bb2('0x30')](_0x1bb2('0x34'));_0x509c10&&this[_0x1bb2('0x2e')](_0x509c10);}[_0x1bb2('0x2e')](_0x418023){if(!y(_0x418023))throw new _0x36b5e(_0x1bb2('0x24'));this[_0x1bb2('0x22')]=_0x418023;}[_0x1bb2('0x33')]({viewClass:_0x1e0b1d='',spaceBetweenItems:_0x377e6e=0x19}={}){if(!y(this[_0x1bb2('0x22')]))throw new _0x36b5e('sidebar-attachtocontainer-missing-container',this);this['container'][_0x1bb2('0x4')](this[_0x1bb2('0x16')][_0x1bb2('0x26')]),this[_0x1bb2('0x16')][_0x1bb2('0x1b')]=_0x1e0b1d,this[_0x1bb2('0x5')]=_0x377e6e;}[_0x1bb2('0x29')]({removedAnnotation:_0x4cbecf,previousAnnotation:_0x551bea,nextAnnotation:_0xe9283c}){const _0x8e50d9=this['getSidebarItemView'](_0x4cbecf);this[_0x1bb2('0x16')][_0x1bb2('0x0')][_0x1bb2('0x39')](_0x8e50d9),this[_0x1bb2('0x8')](_0x4cbecf),_0x551bea&&this[_0x1bb2('0xe')](this[_0x1bb2('0x6')](_0x551bea)),_0xe9283c&&this[_0x1bb2('0xe')](this['getSidebarItemView'](_0xe9283c)),this[_0x1bb2('0x27')]();}[_0x1bb2('0x17')]({blurredAnnotation:_0x1e2a25,activatedAnnotation:_0x5264f6,disableAnimationOnActivatedAnnotation:_0x576573}){if(this[_0x1bb2('0x1a')]=_0x5264f6,_0x1e2a25){_0x1e2a25[_0x1bb2('0xd')]=!0x1;const _0x10fee6=this[_0x1bb2('0x6')](_0x1e2a25);_0x10fee6&&_0x576573&&(_0x10fee6[_0x1bb2('0x46')]=!0x1);}if(_0x5264f6){const _0x9de0a0=this[_0x1bb2('0x6')](_0x5264f6);_0x9de0a0&&(_0x5264f6['isActive']=!0x0,_0x576573&&(_0x9de0a0[_0x1bb2('0x46')]=!0x0,_0x9de0a0[_0x1bb2('0x35')]+=0x1),this[_0x1bb2('0xe')](_0x9de0a0));}}[_0x1bb2('0x23')](_0x5a6d0c){if(this['view'][_0x1bb2('0x26')][_0x1bb2('0x39')](),_0x5a6d0c)for(const _0x2cd77c of _0x5a6d0c)this[_0x1bb2('0x8')](_0x2cd77c);this[_0x1bb2('0x16')][_0x1bb2('0x0')][_0x1bb2('0x3d')](),this[_0x1bb2('0x16')][_0x1bb2('0x1b')]='',this[_0x1bb2('0x7')]=null;}['addAnnotation'](_0x5bf5e0,_0x683a04){_0x683a04||(_0x683a04=_0x5bf5e0[_0x1bb2('0x16')]);const _0x512e19=new _0x124176(this[_0x1bb2('0x20')]['locale']);this[_0x1bb2('0x14')][_0x1bb2('0x2a')](_0x512e19,_0x5bf5e0),this[_0x1bb2('0x40')]['set'](_0x5bf5e0,_0x512e19),_0x512e19[_0x1bb2('0x1e')][_0x1bb2('0x28')](_0x683a04),this[_0x1bb2('0x1c')](_0x5bf5e0[_0x1bb2('0x16')],_0x1bb2('0xf'),(_0x1613ee,_0x44949a,_0x593f85)=>{const _0x53affb=this[_0x1bb2('0x32')](_0x5bf5e0,_0x593f85);_0x512e19['_targetTop']!=_0x53affb&&(_0x512e19['_targetTop']=_0x53affb,this[_0x1bb2('0x21')](_0x512e19,_0x53affb));}),this[_0x1bb2('0x1c')](_0x512e19,_0x1bb2('0x15'),()=>{this[_0x1bb2('0x41')](_0x512e19,_0x1bb2('0x35'));}),this[_0x1bb2('0x1c')](_0x512e19,_0x1bb2('0x3c'),()=>{this[_0x1bb2('0x41')](_0x512e19,_0x1bb2('0x11'));}),this[_0x1bb2('0xe')](_0x512e19);const _0xcbdcc7=this[_0x1bb2('0x42')](_0x512e19);if(_0xcbdcc7)this['_alignAfterItem'](_0xcbdcc7,_0x512e19)||this[_0x1bb2('0xe')](_0x512e19);else this[_0x1bb2('0xe')](_0x512e19);return this[_0x1bb2('0x27')](),this[_0x1bb2('0x16')][_0x1bb2('0x0')][_0x1bb2('0x28')](_0x512e19),_0x512e19;}[_0x1bb2('0x10')](_0x217e16){if(!_0x217e16[_0x1bb2('0x1e')][_0x1bb2('0xa')])return;const _0x36da67=this['_getItemBefore'](_0x217e16);if(!_0x36da67)return;const _0x4a24b0=this['_sidebarItemViewToAnnotation'][_0x1bb2('0x30')](_0x36da67),_0xdb8fff=this[_0x1bb2('0x1a')];_0xdb8fff&&_0xdb8fff===_0x4a24b0?this[_0x1bb2('0x31')](_0x36da67,_0x217e16):this[_0x1bb2('0x3e')](_0x217e16,_0x36da67);}[_0x1bb2('0x45')](_0x4a049d){if(!_0x4a049d[_0x1bb2('0x1e')]['length'])return;const _0x2bc4e6=this[_0x1bb2('0x1')](_0x4a049d);if(!_0x2bc4e6)return;const _0x5e502f=this[_0x1bb2('0x14')][_0x1bb2('0x30')](_0x2bc4e6),_0x5347f6=this[_0x1bb2('0x20')][_0x1bb2('0x3b')][_0x1bb2('0x30')]('sidebar.preventScrollOutOfView'),_0x46661d=this[_0x1bb2('0x1a')];_0x46661d&&_0x46661d===_0x5e502f&&_0x5347f6?(this[_0x1bb2('0x3e')](_0x2bc4e6,_0x4a049d),this[_0x1bb2('0x31')](_0x4a049d,_0x2bc4e6)):_0x46661d&&_0x46661d===_0x5e502f?this['_alignBeforeItem'](_0x2bc4e6,_0x4a049d):this[_0x1bb2('0x31')](_0x4a049d,_0x2bc4e6);}[_0x1bb2('0x41')](_0x2df1b3,_0x2a9fa5){0x0===this[_0x1bb2('0x38')][_0x1bb2('0xa')]&&setTimeout(()=>{for(const {sidebarItemView:_0x1046ba,changedProp:_0x1236f0}of this[_0x1bb2('0x38')])_0x1bb2('0x35')===_0x1236f0?this[_0x1bb2('0x10')](_0x1046ba):this['_alignForBottomChange'](_0x1046ba);this[_0x1bb2('0x38')]=[];},0xa),this[_0x1bb2('0x38')][_0x1bb2('0x13')]({'sidebarItemView':_0x2df1b3,'changedProp':_0x2a9fa5});}['getSidebarItemView'](_0x59a2f5){return this[_0x1bb2('0x40')]['get'](_0x59a2f5);}[_0x1bb2('0x1f')](){this[_0x1bb2('0x2b')](),this['view'][_0x1bb2('0x1f')]();}[_0x1bb2('0x8')](_0x30751f){const _0x149cb5=this[_0x1bb2('0x6')](_0x30751f);this[_0x1bb2('0x2b')](_0x149cb5),this['stopListening'](_0x30751f[_0x1bb2('0x16')]),_0x149cb5['destroy'](),this[_0x1bb2('0x40')]['delete'](_0x30751f),this[_0x1bb2('0x14')][_0x1bb2('0x2d')](_0x149cb5);}[_0x1bb2('0xb')](){const _0x109872=new _0x16d3f8(this['context'][_0x1bb2('0x25')]);return _0x109872[_0x1bb2('0x9')](),this['on'](_0x1bb2('0x36'),(_0x499230,_0x3c319d,_0x2eee4f,_0x51b3d9)=>{_0x51b3d9&&_0x109872['unbind']('minHeight'),_0x2eee4f?_0x109872[_0x1bb2('0x44')](_0x1bb2('0x18'))['to'](_0x2eee4f,_0x1bb2('0x11')):_0x109872[_0x1bb2('0x18')]=null;}),_0x109872;}[_0x1bb2('0x27')](){var _0x332dd4;this['_lastItem']=(null===(_0x332dd4=this[_0x1bb2('0x3a')])||void 0x0===_0x332dd4?void 0x0:_0x332dd4[_0x1bb2('0x19')])?this['getSidebarItemView'](this[_0x1bb2('0x3a')][_0x1bb2('0x19')]):null;}[_0x1bb2('0x42')](_0x24453){var _0x2b7893;const _0x1422b6=this['_sidebarItemViewToAnnotation']['get'](_0x24453),_0x4cba01=_0x1422b6&&(null===(_0x2b7893=this[_0x1bb2('0x3a')])||void 0x0===_0x2b7893?void 0x0:_0x2b7893[_0x1bb2('0x30')](this['_annotations']['getIndex'](_0x1422b6)-0x1));return _0x4cba01&&this[_0x1bb2('0x6')](_0x4cba01)||null;}[_0x1bb2('0x1')](_0x5c7b16){var _0x3db662;const _0x5c24af=this[_0x1bb2('0x14')][_0x1bb2('0x30')](_0x5c7b16),_0x1dec87=_0x5c24af&&(null===(_0x3db662=this['_annotations'])||void 0x0===_0x3db662?void 0x0:_0x3db662['get'](this[_0x1bb2('0x3a')][_0x1bb2('0x1d')](_0x5c24af)+0x1));return _0x1dec87&&this[_0x1bb2('0x6')](_0x1dec87)||null;}[_0x1bb2('0x3e')](_0x1e3ce8,_0x3a17a6){_0x1e3ce8[_0x1bb2('0x37')]();const _0x4971da=H(_0x3a17a6[_0x1bb2('0x11')]+this[_0x1bb2('0x5')],_0x1e3ce8[_0x1bb2('0x35')]);return!!_0x4971da&&(this['_setItemTop'](_0x3a17a6,_0x3a17a6[_0x1bb2('0x35')]-_0x4971da),!0x0);}['_alignAfterItem'](_0x4c5bc7,_0x216f3a){_0x4c5bc7[_0x1bb2('0x37')]();const _0x5f27b9=H(_0x4c5bc7[_0x1bb2('0x11')]+this[_0x1bb2('0x5')],_0x216f3a[_0x1bb2('0x35')]);return!!_0x5f27b9&&(this[_0x1bb2('0x21')](_0x216f3a,_0x216f3a[_0x1bb2('0x35')]+_0x5f27b9,!0x1),!0x0);}[_0x1bb2('0xe')](_0x2cc28f){const _0x2710dc=this[_0x1bb2('0x14')][_0x1bb2('0x30')](_0x2cc28f);if(!_0x2710dc||!_0x2710dc[_0x1bb2('0x12')]||!_0x2710dc['targetRect'])return;const _0x32e881=this[_0x1bb2('0x32')](_0x2710dc,_0x2710dc[_0x1bb2('0x3f')]);this[_0x1bb2('0x21')](_0x2cc28f,_0x32e881);}[_0x1bb2('0x32')](_0x2890a6,_0x2bb563){if(null===_0x2bb563)return 0x0;if(_0x2890a6[_0x1bb2('0x12')]instanceof _0x3d03cc)return _0x2bb563[_0x1bb2('0x35')];{const _0x413f31=new _0x3d03cc(this['view'][_0x1bb2('0x26')])[_0x1bb2('0x35')];return _0x2bb563[_0x1bb2('0x35')]-_0x413f31;}}[_0x1bb2('0x21')](_0x3cafa5,_0x2a47c0,_0x8d81b3=this['context'][_0x1bb2('0x3b')][_0x1bb2('0x30')](_0x1bb2('0x2c'))){_0x8d81b3&&(_0x2a47c0=Math[_0x1bb2('0x43')](_0x2a47c0,this[_0x1bb2('0x2')](_0x3cafa5))),_0x3cafa5[_0x1bb2('0x35')]=_0x2a47c0;}[_0x1bb2('0x2')](_0x326568){let _0x360a2e=this[_0x1bb2('0x42')](_0x326568),_0x838563=0x0;for(;_0x360a2e;)_0x360a2e[_0x1bb2('0x37')](),_0x838563+=this[_0x1bb2('0x5')]+_0x360a2e['height'],_0x360a2e=this[_0x1bb2('0x42')](_0x360a2e);return _0x838563;}}function H(_0x2bb70d,_0x280d0e){return Math[_0x1bb2('0x43')](_0x2bb70d-_0x280d0e,0x0);}function y(_0x1869e0){return null!==_0x1869e0&&_0x1bb2('0x47')==typeof _0x1869e0&&0x1===_0x1869e0[_0x1bb2('0x3')];}