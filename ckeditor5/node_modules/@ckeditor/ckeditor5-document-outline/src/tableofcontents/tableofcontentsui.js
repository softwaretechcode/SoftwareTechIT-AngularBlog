/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{ButtonView as _0x1f20b5}from'ckeditor5/src/ui';import{CKEditorError as _0x2a53b2}from'ckeditor5/src/utils';import{Plugin as _0x3aa463}from'ckeditor5/src/core';import _0x333fbf from'../../theme/icons/table-of-contents.svg';export default class s extends _0x3aa463{static get['pluginName'](){return'TableOfContentsUI';}constructor(_0xaf55d0){super(_0xaf55d0),this['_licenseKeyCheckInterval']=null;}['init'](){const _0x1176bf=this['editor'],t=_0x1176bf['t'];_0x1176bf['ui']['componentFactory']['add']('tableOfContents',_0x5e9aaf=>{const _0x568500=_0x1176bf['commands']['get']('insertTableOfContents'),_0x52d5b9=new _0x1f20b5(_0x5e9aaf);return _0x52d5b9['set']({'label':t('Table\x20of\x20contents'),'icon':_0x333fbf,'tooltip':!0x0}),_0x52d5b9['bind']('isEnabled')['to'](_0x568500,'isEnabled'),this['listenTo'](_0x52d5b9,'execute',()=>{_0x1176bf['execute']('insertTableOfContents'),_0x1176bf['editing']['view']['focus']();}),_0x52d5b9;}),this['licenseKey']=_0x1176bf['config']['get']('licenseKey');const _0x5ab482=this['editor'];this['_licenseKeyCheckInterval']=setInterval(()=>{let _0x2326ce;for(const _0x5d5f10 in _0x5ab482){const _0x5b88bd=_0x5d5f10,_0x1a347b=_0x5ab482[_0x5b88bd];if('tableOfContentsLicenseKeyTrial'===_0x1a347b||'tableOfContentsLicenseKeyInvalid'===_0x1a347b||'tableOfContentsLicenseKeyValid'===_0x1a347b||'tableOfContentsLicenseKeyTrialLimit:operations'===_0x1a347b){delete _0x5ab482[_0x5b88bd],_0x2326ce=_0x1a347b;break;}}if('tableOfContentsLicenseKeyInvalid'===_0x2326ce)throw clearInterval(this['_licenseKeyCheckInterval']),new _0x2a53b2('table-of-contents-invalid-license-key',null);if('tableOfContentsLicenseKeyTrial'===_0x2326ce&&console['info']('You\x20are\x20using\x20the\x20trial\x20version\x20of\x20CKEditor\x205\x20table\x20of\x20contents\x20plugin\x20with\x20limited\x20usage.\x20Make\x20sure\x20you\x20will\x20not\x20use\x20it\x20in\x20the\x20production\x20environment.'),'tableOfContentsLicenseKeyTrialLimit:operations'===_0x2326ce)throw clearInterval(this['_licenseKeyCheckInterval']),new _0x2a53b2('table-of-contents-trial-license-key-reached-limit-changes',null);'tableOfContentsLicenseKeyValid'===_0x2326ce&&clearInterval(this['_licenseKeyCheckInterval']);},0x3e8);}['destroy'](){this['_licenseKeyCheckInterval']&&clearInterval(this['_licenseKeyCheckInterval']);}}