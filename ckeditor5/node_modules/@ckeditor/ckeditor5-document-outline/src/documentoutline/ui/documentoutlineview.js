/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{View as _0x5c8531}from'ckeditor5/src/ui';import{scrollAncestorsToShowTarget as _0x27f198}from'ckeditor5/src/utils';import _0x5b0003 from'./documentoutlineitemview';export default class d extends _0x5c8531{constructor(_0x238755,_0x3c609b=!0x1,_0x1fe1f9){super(_0x238755);const t=_0x238755['t'];this['showEmptyHeadingText']=_0x3c609b,this['set']('activeItemIndex',-0x1),this['_documentOutlineContainer']=_0x1fe1f9,this['items']=this['createCollection'](),this['items']['delegate']('click')['to'](this),this['on']('click',this['_handleItemClick']['bind'](this)),this['on']('change:activeItemIndex',(_0x2214aa,_0x7c82cd,_0x12ff87,_0x2b6acd)=>{this['_setActiveItem'](_0x2b6acd,_0x12ff87);}),this['setTemplate']({'tag':'div','attributes':{'class':['ck','ck-reset','ck-document-outline'],'dir':_0x238755['contentLanguageDirection'],'data-document-outline-empty-placeholder':t('Editor\x20headings\x20will\x20appear\x20here\x20as\x20you\x20type.'),'tabindex':-0x1},'children':this['items']});}['sync'](_0x17acdf){_0x17acdf['forEach'](_0xe13a22=>{'insert'==_0xe13a22['type']?this['_insertItem'](_0xe13a22['index'],..._0xe13a22['values']):'delete'==_0xe13a22['type']&&this['_deleteItem'](_0xe13a22['index'],_0xe13a22['howMany']);});}['_setActiveItem'](_0x1d1ab0,_0x396bfd){if(-0x1!==_0x1d1ab0){const _0x1f1188=this['items']['get'](_0x1d1ab0);_0x1f1188&&(_0x1f1188['isActive']=!0x1);}-0x1!==_0x396bfd&&(this['items']['get'](_0x396bfd)['isActive']=!0x0,this['_scrollToItem'](_0x396bfd));}['_insertItem'](_0x175503,..._0xc0231){const _0x2b1a5f=_0xc0231['map']((_0x1eac3e,_0x5d52a4)=>{const _0x15c261=new _0x5b0003(this['locale'],this['showEmptyHeadingText']);return _0x15c261['text']=_0x1eac3e['text'],_0x15c261['level']=_0x1eac3e['level'],_0x175503+_0x5d52a4===this['activeItemIndex']&&(_0x15c261['isActive']=!0x0),_0x15c261;});this['items']['addMany'](_0x2b1a5f,_0x175503);}['_deleteItem'](_0x193e83,_0x35e8e0){do{this['items']['remove'](_0x193e83);}while(--_0x35e8e0);}['_handleItemClick'](_0x51cfa5){const _0x2a47cf=this['items']['getIndex'](_0x51cfa5['source']);this['fire']('itemSelected',_0x2a47cf);}['_scrollToItem'](_0x584b17){_0x27f198(this['items']['get'](_0x584b17)['element'],0x14,this['_documentOutlineContainer']);}['destroy'](){super['destroy'](),this['element']['remove']();}}