/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x367ff2}from'ckeditor5/src/core';import{ButtonView as _0x243d91,View as _0x3fd3fa,Notification as _0x3d4d1a}from'ckeditor5/src/ui';import _0x1b351 from'./exportwordcommand';import _0x84e6b7 from'../theme/icons/exportword.svg';import'../theme/exportword.css';export default class c extends _0x367ff2{static get['pluginName'](){return'ExportWord';}static get['requires'](){return['CloudServices',_0x3d4d1a];}['init'](){const _0x4f9ddf=this['editor'],t=_0x4f9ddf['t'],_0x565036=_0x4f9ddf['config']['get']('exportWord')||{};_0x4f9ddf['commands']['add']('exportWord',new _0x1b351(_0x4f9ddf)),_0x4f9ddf['ui']['componentFactory']['add']('exportWord',_0x4888a8=>{const _0x42e400=_0x4f9ddf['commands']['get']('exportWord'),_0x30b53f=new _0x243d91(_0x4888a8);_0x30b53f['set']({'label':t('Export\x20to\x20Word'),'icon':_0x84e6b7,'tooltip':!0x0}),_0x30b53f['bind']('isOn','isEnabled')['to'](_0x42e400,'isBusy','isEnabled'),_0x30b53f['extendTemplate']({'attributes':{'class':[_0x30b53f['bindTemplate']['if']('isOn','ck-exportword_status-pending')]}});const _0xc109f3=new _0x3fd3fa();return _0xc109f3['setTemplate']({'tag':'span','attributes':{'class':['ck','ck-exportword__spinner-container']},'children':[{'tag':'span','attributes':{'class':['ck','ck-exportword__spinner']}}]}),_0x30b53f['children']['add'](_0xc109f3),this['listenTo'](_0x30b53f,'execute',()=>{_0x4f9ddf['execute']('exportWord',_0x565036),_0x4f9ddf['editing']['view']['focus']();}),_0x30b53f;});const _0x57a2e1=_0x4f9ddf['plugins']['get']('CloudServices');!0x1===_0x565036['tokenUrl']?this['_token']=null:_0x565036['tokenUrl']?_0x57a2e1['registerTokenUrl'](_0x565036['tokenUrl'])['then'](_0x42e87d=>{this['_token']=_0x42e87d;}):this['_token']=_0x57a2e1['token'];}}